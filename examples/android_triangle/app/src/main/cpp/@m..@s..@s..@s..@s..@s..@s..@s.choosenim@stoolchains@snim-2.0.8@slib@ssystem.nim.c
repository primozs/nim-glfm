/* Generated by Nim Compiler v2.0.8 */
#define NIM_INTBITS 64
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#include <sys/mman.h>
#include <stdio.h>
#include <stdlib.h>
#include <android/log.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct tySequence__aNpJjaoUowCQc7fBn3wtDQ tySequence__aNpJjaoUowCQc7fBn3wtDQ;
typedef struct tySequence__aNpJjaoUowCQc7fBn3wtDQ_Content tySequence__aNpJjaoUowCQc7fBn3wtDQ_Content;
typedef struct Exception Exception;
typedef struct TNimType TNimType;
typedef struct tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ;
typedef struct tyTuple__v8m6PEFL3KMh2a55VJabyg tyTuple__v8m6PEFL3KMh2a55VJabyg;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw;
typedef struct tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw;
typedef struct tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw;
typedef struct tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw;
typedef struct tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w;
typedef struct tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw;
typedef struct tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg;
typedef struct tyTuple__U2hhWvZT48IMYgMX9c9bmCrg tyTuple__U2hhWvZT48IMYgMX9c9bmCrg;
typedef struct tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ;
typedef struct tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag;
typedef struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ tySequence__6H5Oh5UUvVCLiakt9aTwtUQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content;
typedef struct tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw;
typedef struct tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg;
typedef struct tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA;
typedef struct tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA;
typedef struct tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw;
typedef struct tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw;
typedef struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyTuple__N4J9cV4JZGem3ljqqj5rT0Q;
typedef struct RootObj RootObj;
typedef struct tySequence__LaG9a3ln9cHpAtM2PoiEBtMA tySequence__LaG9a3ln9cHpAtM2PoiEBtMA;
typedef struct tySequence__LaG9a3ln9cHpAtM2PoiEBtMA_Content tySequence__LaG9a3ln9cHpAtM2PoiEBtMA_Content;
typedef struct tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw;
typedef struct tyObject_NimSeqV2__I1ONZKfBfLzjdJeNgozYCA tyObject_NimSeqV2__I1ONZKfBfLzjdJeNgozYCA;
typedef struct tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ tySequence__4Xyxy0Om14N6K1l5e9bUPSQ;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content;
struct tySequence__aNpJjaoUowCQc7fBn3wtDQ {
  NI len; tySequence__aNpJjaoUowCQc7fBn3wtDQ_Content* p;
};
struct tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ {
	NI len;
	NI cap;
	tyTuple__v8m6PEFL3KMh2a55VJabyg* d;
};
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc__9axCnCRMUx32AHzFgBrzSMg) (Exception* e_p0);
typedef N_NIMCALL_PTR(void, tyProc__T4eqaYlFJYZUv9aG9b1TV0bQ) (void);
typedef N_NIMCALL_PTR(void, tyProc__NFmM6mqUOVW3cJg4yvk8Fw) (Exception* e_p0);
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef N_NIMCALL_PTR(void, tyProc__W6IXMh2CA4X1rFYGjUb4yg) (NimStringV2 msg_p0);
typedef tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* tyArray__lqLoq0cyQ7VgHL8UEw3WgQ[256];
typedef NU32 tyArray__BHbOSqU1t9b3Gt7K2c6fQig[24];
typedef tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* tyArray__y6B9cX7xfwMg65MQnck68yA[32];
typedef tyArray__y6B9cX7xfwMg65MQnck68yA tyArray__dh6GIYoQcwLss9cRWlwfinA[24];
typedef tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* tyArray__WK5HS2sFmzh0vV1Ud9cDMRA[256];
struct tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w {
	tyArray__WK5HS2sFmzh0vV1Ud9cDMRA data;
};
struct tyTuple__U2hhWvZT48IMYgMX9c9bmCrg {
tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* Field0;
NI Field1;
};
typedef tyTuple__U2hhWvZT48IMYgMX9c9bmCrg tyArray__nUQ0zyT0y29a4iouTJTTOmg[30];
struct tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg {
	NI len;
	tyArray__nUQ0zyT0y29a4iouTJTTOmg chunks;
	tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg* next;
};
struct tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw {
	tyArray__lqLoq0cyQ7VgHL8UEw3WgQ freeSmallChunks;
	NU32 flBitmap;
	tyArray__BHbOSqU1t9b3Gt7K2c6fQig slBitmap;
	tyArray__dh6GIYoQcwLss9cRWlwfinA matrix;
	tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw* llmem;
	NI currMem;
	NI maxMem;
	NI freeMem;
	NI occ;
	NI lastSize;
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* sharedFreeListBigChunks;
	tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w chunkStarts;
	NIM_BOOL lockActive;
	NIM_BOOL locked;
	NIM_BOOL blockChunkSizeIncrease;
	NI nextChunkSize;
	tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg heapLinks;
	NI allocCounter;
	NI deallocCounter;
};
struct tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ {
	NI prevSize;
	NI size;
	tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* owner;
};
struct tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw {
  tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ Sup;
	tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* next;
	tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* prev;
	tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* freeList;
	NI free;
	NI acc;
	tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* sharedFreeList;
NIM_ALIGN(16) 	NU8 data[SEQ_DECL_SIZE];
};
typedef NI8 tyArray__mkmEeKAWtk2yS9bBb1lUWXA[256];
struct tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw {
  tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ Sup;
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* next;
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* prev;
NIM_ALIGN(16) 	NU8 data[SEQ_DECL_SIZE];
};
struct tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw {
	NI size;
	NI acc;
	tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw* next;
};
typedef NU tyArray__VqSA39cBDWnwnJySTumCdjw[8];
struct tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw {
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* next;
	NI key;
	tyArray__VqSA39cBDWnwnJySTumCdjw bits;
};
struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ {
NI Field0;
NI Field1;
};
struct tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag {
	tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* next;
	NI alignment;
};
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ {
  NI len; tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content* p;
};
struct tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw {
	NI len;
	tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg* p;
};
struct tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg {
	NI cap;
	NU8 data[SEQ_DECL_SIZE];
};
struct tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA {
	NI cap;
};
struct tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA {
	NI rc;
	NI rootIdx;
};
struct tyTuple__v8m6PEFL3KMh2a55VJabyg {
tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* Field0;
TNimTypeV2* Field1;
};
struct TNimTypeV2 {
	void* destructor;
	NI size;
	NI16 align;
	NI16 depth;
	NU32* display;
	NCSTRING name;
	void* traceImpl;
	void* typeInfoV1;
	NI flags;
};
typedef tyTuple__v8m6PEFL3KMh2a55VJabyg tyUncheckedArray__AhtWYgSAO1VUgqEs9az9bAmQ[1];
struct tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw {
	NI len;
	NI cap;
	tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
};
struct tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw {
	tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw traceStack;
	tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ toFree;
	NI freed;
	NI touched;
	NI edges;
	NI rcSum;
	NIM_BOOL keepThreshold;
};
struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q {
void** Field0;
TNimTypeV2* Field1;
};
typedef tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyUncheckedArray__72XmdLy0QAaMtx66AmNKfA[1];
typedef N_NIMCALL_PTR(void, tyProc__fhqfcnDhIcLpBpSTVsWEZg) (void* p_p0, void* env_p1);
typedef N_NIMCALL_PTR(void, tyProc__4SVlZZPmetqBimNsH9cHcOA) (void* p_p0);
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__LaG9a3ln9cHpAtM2PoiEBtMA {
  NI len; tySequence__LaG9a3ln9cHpAtM2PoiEBtMA_Content* p;
};
struct Exception {
  RootObj Sup;
	Exception* parent;
	NCSTRING name;
	NimStringV2 message;
	tySequence__LaG9a3ln9cHpAtM2PoiEBtMA trace;
	Exception* up;
};
typedef NI32 tyEnum_GLerrorCode__9aa0fSh3zKRU4fPbvvwy9bOg;
struct tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA {
  Exception Sup;
	tyEnum_GLerrorCode__9aa0fSh3zKRU4fPbvvwy9bOg code;
};
struct tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw {
	NCSTRING procname;
	NI line;
	NCSTRING filename;
};
struct tyObject_NimSeqV2__I1ONZKfBfLzjdJeNgozYCA {
	NI len;
	tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw* p;
};
struct tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw {
	NI cap;
	tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw data[SEQ_DECL_SIZE];
};
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ {
  NI len; tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content* p;
};
typedef NIM_CHAR tyArray__gpc2RrLEcWgv7ONpLYNHOw[2001];
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (void* ClE_0);
void* ClE_0;
} tyProc__HzVCwACFYM9cx9aV62PdjtuA;
struct tySequence__aNpJjaoUowCQc7fBn3wtDQ_Content { NI cap; tyProc__HzVCwACFYM9cx9aV62PdjtuA data[SEQ_DECL_SIZE]; };
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE]; };
struct tySequence__LaG9a3ln9cHpAtM2PoiEBtMA_Content { NI cap; tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw data[SEQ_DECL_SIZE]; };
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content { NI cap; NF32 data[SEQ_DECL_SIZE]; };
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1);
static N_INLINE(void, copyMem__system_u1750)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s_p0, NI addLen_p1);
N_LIB_PRIVATE N_NOCONV(void*, allocSharedImpl)(NI size_p0);
N_LIB_PRIVATE N_NOCONV(void*, allocImpl__system_u1766)(NI size_p0);
N_LIB_PRIVATE N_NIMCALL(void*, alloc__system_u6963)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, NI size_p1);
N_LIB_PRIVATE N_NIMCALL(void*, rawAlloc__system_u6738)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI requestedSize_p1);
static N_INLINE(NI, roundup__system_u5654)(NI x_p0, NI v_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*, getSmallChunk__system_u6554)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, getBigChunk__system_u6526)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
static N_INLINE(void, mappingSearch__system_u5815)(NI* r_p0, NI* fl_p1, NI* sl_p2);
static N_INLINE(NI, msbit__system_u5790)(NU32 x_p0);
static N_INLINE(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, findSuitableBlock__system_u5848)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI* fl_p1, NI* sl_p2);
static N_INLINE(NI, lsbit__system_u5798)(NU32 x_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, requestOsChunks__system_u6426)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
N_LIB_PRIVATE N_NIMCALL(void*, allocPages__system_u5984)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
static N_INLINE(void*, osAllocPages__system_u5674)(NI size_p0);
N_LIB_PRIVATE N_NOINLINE(void, raiseOutOfMem__system_u5649)(void);
static N_INLINE(void, rawWrite)(FILE* f_p0, NCSTRING s_p1);
static N_INLINE(NI, nimCStrLen)(NCSTRING a_p0);
N_LIB_PRIVATE N_NIMCALL(void*, tryAllocPages__system_u5988)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
static N_INLINE(void*, osTryAllocPages__system_u5677)(NI size_p0);
static N_INLINE(void, incCurrMem__system_u5964)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI bytes_p1);
N_LIB_PRIVATE N_NIMCALL(void, addHeapLink__system_u6030)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* p_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(void*, llAlloc__system_u5992)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
static N_INLINE(void, zeroMem__system_u1747)(void* p_p0, NI size_p1);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(NI, pluspercent___system_u790)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__system_u6173)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p0, NI key_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*, intSetGet__system_u6124)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* t_p0, NI key_p1);
static N_INLINE(NI, pageIndex__system_u6409)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0);
static N_INLINE(NI, minuspercent___system_u810)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NIMCALL(void, splitChunk__system_u6497)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, splitChunk2__system_u6473)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI size_p2);
static N_INLINE(void, updatePrevSize__system_u6468)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI prevSize_p2);
static N_INLINE(NIM_BOOL, isAccessible__system_u6450)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, void* p_p1);
static N_INLINE(NI, pageIndex__system_u6416)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, incl__system_u6214)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p1, NI key_p2);
N_LIB_PRIVATE N_NIMCALL(tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*, intSetPut__system_u6156)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* t_p1, NI key_p2);
N_LIB_PRIVATE N_NIMCALL(void, addChunkToMatrix__system_u5954)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1);
static N_INLINE(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, mappingInsert__system_u5833)(NI r_p0);
static N_INLINE(void, setBit__system_u5801)(NI nr_p0, NU32* dest_p1);
N_LIB_PRIVATE N_NIMCALL(void, removeChunkFromMatrix2__system_u5945)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1, NI fl_p2, NI sl_p3);
static N_INLINE(void, clearBit__system_u5808)(NI nr_p0, NU32* dest_p1);
static N_INLINE(void, listAdd__system_u6764)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw** head_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1);
N_LIB_PRIVATE N_NIMCALL(void, compensateCounters__system_u6684)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1, NI size_p2);
static N_INLINE(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*, pageAddr__system_u6423)(void* p_p0);
static N_INLINE(void, listRemove__system_u6828)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw** head_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1);
N_LIB_PRIVATE N_NIMCALL(void, freeDeferredObjects__system_u6710)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* root_p1);
static N_INLINE(void, addToSharedFreeListBigChunks__system_u6583)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, getHugeChunk__system_u6546)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1);
static N_INLINE(NI, resize__system_u2244)(NI old_p0);
N_LIB_PRIVATE N_NOCONV(void*, reallocSharedImpl__system_u1785)(void* p_p0, NI newSize_p1);
N_LIB_PRIVATE N_NOCONV(void*, reallocImpl__system_u1772)(void* p_p0, NI newSize_p1);
N_LIB_PRIVATE N_NIMCALL(void*, realloc__system_u6974)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, void* p_p1, NI newsize_p2);
N_LIB_PRIVATE N_NIMCALL(NI, ptrSize__system_u6951)(void* p_p0);
static N_INLINE(NIM_BOOL, isSmallChunk__system_u6306)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0);
N_LIB_PRIVATE N_NIMCALL(void, dealloc__system_u6971)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, void* p_p1);
N_LIB_PRIVATE N_NIMCALL(void, rawDealloc__system_u6895)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, void* p_p1);
N_LIB_PRIVATE N_NIMCALL(void, freeBigChunk__system_u6502)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1);
static N_INLINE(NIM_BOOL, chunkUnused__system_u6312)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0);
N_LIB_PRIVATE N_NIMCALL(void, removeChunkFromMatrix__system_u5903)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1);
N_LIB_PRIVATE N_NIMCALL(void, excl__system_u6236)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p0, NI key_p1);
static N_INLINE(void, addToSharedFreeList__system_u6626)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p0, tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* f_p1);
N_LIB_PRIVATE N_NIMCALL(void, deallocBigChunk__system_u6572)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1);
N_LIB_PRIVATE N_NIMCALL(void, freeHugeChunk__system_u6550)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1);
static N_INLINE(void, decCurrMem__system_u5972)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI bytes_p1);
static N_INLINE(void, osDeallocPages__system_u5680)(void* p_p0, NI size_p1);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0);
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
N_LIB_PRIVATE N_NOCONV(void, deallocSharedImpl__system_u1783)(void* p_p0);
N_LIB_PRIVATE N_NOCONV(void, deallocImpl__system_u1770)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, newSeq__main_u34)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* s_p0, NI len_p1);
N_LIB_PRIVATE N_NIMCALL(void, shrink__main_u38)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* x_p0, NI newLen_p1);
N_LIB_PRIVATE N_NIMCALL(void, setLen__main_u42)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* s_p0, NI newlen_p1);
N_LIB_PRIVATE N_NIMCALL(void*, prepareSeqAddUninit)(NI len_p0, void* p_p1, NI addlen_p2, NI elemSize_p3, NI elemAlign_p4);
N_LIB_PRIVATE N_NIMCALL(NI, align__system_u1641)(NI address_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayloadUninit)(NI cap_p0, NI elemSize_p1, NI elemAlign_p2);
N_LIB_PRIVATE N_NIMCALL(void*, alignedAlloc__system_u1906)(NI size_p0, NI align_p1);
N_LIB_PRIVATE N_NIMCALL(void*, alignedRealloc__system_u1966)(void* p_p0, NI oldSize_p1, NI newSize_p2, NI align_p3);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p_p0, NI align_p1);
N_LIB_PRIVATE N_NOCONV(void*, reallocShared0Impl__system_u1788)(void* p_p0, NI oldSize_p1, NI newSize_p2);
N_LIB_PRIVATE N_NOCONV(void*, realloc0Impl__system_u1775)(void* p_p0, NI oldSize_p1, NI newSize_p2);
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0);
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_u3487)(NIM_BOOL isDestroyAction_p0, tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p1, TNimTypeV2* desc_p2);
N_LIB_PRIVATE N_NIMCALL(void, unregisterCycle__system_u3065)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0);
N_LIB_PRIVATE N_NIMCALL(void, registerCycle__system_u3447)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1);
N_LIB_PRIVATE N_NIMCALL(void, init__system_u3303)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0, NI cap_p1);
static N_INLINE(void, add__system_u3211)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0, tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* c_p1, TNimTypeV2* t_p2);
N_LIB_PRIVATE N_NIMCALL(void, resize__system_u3219)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0);
N_LIB_PRIVATE N_NIMCALL(void, collectCycles__system_u3422)(void);
N_LIB_PRIVATE N_NIMCALL(void, init__system_u3374)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0, NI cap_p1);
N_LIB_PRIVATE N_NIMCALL(void, collectCyclesBacon__system_u3275)(tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p0, NI lowMark_p1);
N_LIB_PRIVATE N_NIMCALL(void, markGray__system_u3122)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2);
static N_INLINE(void, trace__system_u2884)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2);
N_LIB_PRIVATE N_NIMCALL(tyTuple__N4J9cV4JZGem3ljqqj5rT0Q, pop__system_u3101)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0);
N_LIB_PRIVATE N_NIMCALL(void, scan__system_u3178)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2);
N_LIB_PRIVATE N_NIMCALL(void, scanBlack__system_u3093)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2);
N_LIB_PRIVATE N_NIMCALL(void, collectColor__system_u3203)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, NI col_p2, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p3);
static N_INLINE(void, free__system_u2934)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void, deinit__system_u3342)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0);
N_LIB_PRIVATE N_NIMCALL(void, deinit__system_u3386)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u378)(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void*, alignedAlloc0__system_u1952)(NI size_p0, NI align_p1);
N_LIB_PRIVATE N_NOCONV(void*, allocShared0Impl__system_u1781)(NI size_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u375)(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA** dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, add__system_u4393)(tySequence__LaG9a3ln9cHpAtM2PoiEBtMA* x_p0, tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw y_p1);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionAux__system_u4372)(Exception* e_p0);
static N_INLINE(void, pushCurrentException)(Exception* e_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___stdZtypedthreads_u205)(Exception** dest_p0, Exception* src_p1, NIM_BOOL cyclic_p2);
static N_INLINE(void, nimIncRefCyclic)(void* p_p0, NIM_BOOL cyclic_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___stdZtypedthreads_u213)(Exception** dest_p0, Exception* src_p1);
N_LIB_PRIVATE N_NIMCALL(void, reportUnhandledError__system_u4339)(Exception* e_p0);
N_LIB_PRIVATE N_NIMCALL(void, reportUnhandledErrorAux__system_u4245)(Exception* e_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___system_u4216)(tySequence__LaG9a3ln9cHpAtM2PoiEBtMA stackTraceEntries_p0);
N_NIMCALL(NimStringV2, rawNewString)(NI cap_p0);
N_LIB_PRIVATE N_NIMCALL(void, add__system_u3635)(NimStringV2* x_p0, NCSTRING y_p1);
static N_INLINE(void, nimAddCharV1)(NimStringV2* s_p0, NIM_CHAR c_p1);
static N_INLINE(void, addInt__stdZprivateZdigitsutils_u204)(NimStringV2* result_p0, NI x_p1);
N_LIB_PRIVATE N_NIMCALL(void, addInt__stdZprivateZdigitsutils_u187)(NimStringV2* result_p0, NI64 x_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toNimStr)(NCSTRING str_p0, NI len_p1);
N_LIB_PRIVATE N_NIMCALL(void, showErrorMessage__system_u4036)(NCSTRING data_p0, NI length_p1);
static N_INLINE(void, popCurrentException)(void);
N_LIB_PRIVATE N_NIMCALL(void, writeToStdErr__system_u4031)(NCSTRING msg_p0, NI length_p1);
static N_INLINE(void, rawWriteString)(FILE* f_p0, NCSTRING s_p1, NI length_p2);
N_LIB_PRIVATE N_NIMCALL(void, nimTestErrorFlag)(void);
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_2 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_3 = {0, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_2};
extern TNimTypeV2 NTIv2__pecJ3qrtkP9cNFDFcCVFvuA_;
static const struct {
  NI cap; NIM_CHAR data[17+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_4 = { 17 | NIM_STRLIT_FLAG, "[[reraised from:\012" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_5 = {17, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_4};
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_6 = { 3 | NIM_STRLIT_FLAG, "]]\012" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_7 = {3, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_6};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_8 = { 1 | NIM_STRLIT_FLAG, "(" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_9 = {1, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_8};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_10 = { 2 | NIM_STRLIT_FLAG, ", " };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_11 = {2, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_10};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_12 = { 1 | NIM_STRLIT_FLAG, ")" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_13 = {1, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_12};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__Q5wkpxktOdTGvlSRo9bzt9aw_14 = { 1 | NIM_STRLIT_FLAG, "\012" };
static const NimStringV2 TM__Q5wkpxktOdTGvlSRo9bzt9aw_15 = {1, (NimStrPayload*)&TM__Q5wkpxktOdTGvlSRo9bzt9aw_14};
N_LIB_PRIVATE NIM_CONST tyArray__mkmEeKAWtk2yS9bBb1lUWXA fsLookupTable__system_u5789 = {((NI8)-1),
((NI8)0),
((NI8)1),
((NI8)1),
((NI8)2),
((NI8)2),
((NI8)2),
((NI8)2),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)3),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)4),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)5),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)6),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7),
((NI8)7)}
;
N_LIB_PRIVATE NIM_THREADVAR tySequence__aNpJjaoUowCQc7fBn3wtDQ nimThreadDestructionHandlers__system_u3934;
N_LIB_PRIVATE NIM_THREADVAR Exception* currException__system_u4065;
N_LIB_PRIVATE TNimType* nimTypeRoot;
N_LIB_PRIVATE NI nim_program_result;
N_LIB_PRIVATE NIM_THREADVAR NI threadId__system_u2928;
N_LIB_PRIVATE NIM_THREADVAR tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ roots__system_u3064;
N_LIB_PRIVATE NIM_THREADVAR NI rootsThreshold__system_u3274;
N_LIB_PRIVATE tyProc__9axCnCRMUx32AHzFgBrzSMg globalRaiseHook__system_u3618;
N_LIB_PRIVATE NIM_THREADVAR tyProc__9axCnCRMUx32AHzFgBrzSMg localRaiseHook__system_u3621;
N_LIB_PRIVATE tyProc__T4eqaYlFJYZUv9aG9b1TV0bQ outOfMemHook__system_u3623;
N_LIB_PRIVATE tyProc__NFmM6mqUOVW3cJg4yvk8Fw unhandledExceptionHook__system_u3626;
N_LIB_PRIVATE tyProc__W6IXMh2CA4X1rFYGjUb4yg errorMessageWriter__system_u4028;
N_LIB_PRIVATE NIM_THREADVAR TFrame* framePtr__system_u4064;
N_LIB_PRIVATE tyProc__W6IXMh2CA4X1rFYGjUb4yg onUnhandledException__system_u4244;
N_LIB_PRIVATE NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4345;
N_LIB_PRIVATE NIM_THREADVAR tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw allocator__system_u7015;
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, copyMem__system_u1750)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1) {
	{
		if (!(((NI)0) < src_p1.len)) goto LA3_;
		copyMem__system_u1750(((void*) ((&(*(*dest_p0).p).data[(*dest_p0).len]))), ((void*) ((&(*src_p1.p).data[((NI)0)]))), ((NI) ((NI)(src_p1.len + ((NI)1)))));
		(*dest_p0).len += src_p1.len;
	}
LA3_: ;
}
static N_INLINE(NI, roundup__system_u5654)(NI x_p0, NI v_p1) {
	NI result;
	result = (NI)((NI)(x_p0 + (NI)(v_p1 - ((NI)1))) & (NI)((NU64) ~((NI)(v_p1 - ((NI)1)))));
	return result;
}
static N_INLINE(NI, msbit__system_u5790)(NU32 x_p0) {
	NI result;
	NI colontmpD_;
	NI colontmpD__2;
	NI a;
	colontmpD_ = (NI)0;
	colontmpD__2 = (NI)0;
	{
		NI colontmpD__3;
		NI colontmpD__4;
		if (!((NU32)(x_p0) <= (NU32)(((NU32)65535)))) goto LA3_;
		colontmpD__3 = (NI)0;
		colontmpD__4 = (NI)0;
		{
			if (!((NU32)(x_p0) <= (NU32)(((NU32)255)))) goto LA7_;
			colontmpD__3 = ((NI)0);
			colontmpD_ = colontmpD__3;
		}
		goto LA5_;
LA7_: ;
		{
			colontmpD__4 = ((NI)8);
			colontmpD_ = colontmpD__4;
		}
LA5_: ;
		a = colontmpD_;
	}
	goto LA1_;
LA3_: ;
	{
		NI colontmpD__5;
		NI colontmpD__6;
		colontmpD__5 = (NI)0;
		colontmpD__6 = (NI)0;
		{
			if (!((NU32)(x_p0) <= (NU32)(((NU32)16777215)))) goto LA13_;
			colontmpD__5 = ((NI)16);
			colontmpD__2 = colontmpD__5;
		}
		goto LA11_;
LA13_: ;
		{
			colontmpD__6 = ((NI)24);
			colontmpD__2 = colontmpD__6;
		}
LA11_: ;
		a = colontmpD__2;
	}
LA1_: ;
	result = (NI)(((NI) (fsLookupTable__system_u5789[((NU32)((NU32)(x_p0) >> (NU64)(a)))- 0])) + a);
	return result;
}
static N_INLINE(void, mappingSearch__system_u5815)(NI* r_p0, NI* fl_p1, NI* sl_p2) {
	NI t;
	NI T1_;
	NI T2_;
	T1_ = (NI)0;
	T1_ = msbit__system_u5790(((NU32) ((*r_p0))));
	T2_ = (NI)0;
	T2_ = roundup__system_u5654((NI)((NU64)(((NI)1)) << (NU64)((NI)(T1_ - ((NI)5)))), ((NI)4096));
	t = (NI)(T2_ - ((NI)1));
	(*r_p0) = (NI)((*r_p0) + t);
	(*r_p0) = (NI)((*r_p0) & (NI)((NU64) ~(t)));
	(*r_p0) = (((*r_p0) <= ((NI)1056964608)) ? (*r_p0) : ((NI)1056964608));
	(*fl_p1) = msbit__system_u5790(((NU32) ((*r_p0))));
	(*sl_p2) = (NI)((NI)((NI64)((*r_p0)) >> (NU64)((NI)((*fl_p1) - ((NI)5)))) - ((NI)32));
	(*fl_p1) -= ((NI)6);
}
static N_INLINE(NI, lsbit__system_u5798)(NU32 x_p0) {
	NI result;
	result = msbit__system_u5790((NU32)(x_p0 & (NU32)((NU32)((NU32)((NU32) ~(x_p0))) + (NU32)(((NU32)1)))));
	return result;
}
static N_INLINE(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, findSuitableBlock__system_u5848)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI* fl_p1, NI* sl_p2) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* result;
	NU32 tmp;
	tmp = (NU32)((*a_p0).slBitmap[((*fl_p1))- 0] & (NU32)((NU64)(((NU32)IL64(4294967295))) << (NU64)((*sl_p2))));
	result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	{
		if (!!((tmp == ((NU32)0)))) goto LA3_;
		(*sl_p2) = lsbit__system_u5798(tmp);
		result = (*a_p0).matrix[((*fl_p1))- 0][((*sl_p2))- 0];
	}
	goto LA1_;
LA3_: ;
	{
		(*fl_p1) = lsbit__system_u5798((NU32)((*a_p0).flBitmap & (NU32)((NU64)(((NU32)IL64(4294967295))) << (NU64)((NI)((*fl_p1) + ((NI)1))))));
		{
			if (!(((NI)0) < (*fl_p1))) goto LA8_;
			(*sl_p2) = lsbit__system_u5798((*a_p0).slBitmap[((*fl_p1))- 0]);
			result = (*a_p0).matrix[((*fl_p1))- 0][((*sl_p2))- 0];
		}
LA8_: ;
	}
LA1_: ;
	return result;
}
static N_INLINE(NI, nimCStrLen)(NCSTRING a_p0) {
	NI result;
	size_t T1_;
	T1_ = (size_t)0;
	T1_ = strlen(a_p0);
	result = ((NI) (T1_));
	return result;
}
static N_INLINE(void, rawWrite)(FILE* f_p0, NCSTRING s_p1) {
	size_t T1_;
	int T2_;
	T1_ = (size_t)0;
	T1_ = fwrite(((void*) (s_p1)), ((size_t)1), ((size_t) ((s_p1 ? nimCStrLen(s_p1) : 0))), ((FILE*) (f_p0)));
	(void)(T1_);
	T2_ = (int)0;
	T2_ = fflush(((FILE*) (f_p0)));
	(void)(T2_);
}
N_LIB_PRIVATE N_NOINLINE(void, raiseOutOfMem__system_u5649)(void) {
	{
		if (!!((outOfMemHook__system_u3623 == NIM_NIL))) goto LA3_;
		outOfMemHook__system_u3623();
	}
LA3_: ;
	rawWrite(((FILE*) (stderr)), "out of memory\012");
	exit(((int)1));
}
static N_INLINE(void*, osAllocPages__system_u5674)(NI size_p0) {
	void* result;
	result = mmap(NIM_NIL, ((size_t) (size_p0)), ((int)3), (NI32)((NI32)(MAP_ANONYMOUS | MAP_PRIVATE) | ((NI32)0)), ((int)-1), ((NI)0));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (result == NIM_NIL);
		if (T3_) goto LA4_;
		T3_ = (result == ((void*) (((NI)-1))));
LA4_: ;
		if (!T3_) goto LA5_;
		raiseOutOfMem__system_u5649();
	}
LA5_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, allocPages__system_u5984)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	void* result;
	result = osAllocPages__system_u5674(size_p1);
	return result;
}
static N_INLINE(void*, osTryAllocPages__system_u5677)(NI size_p0) {
	void* result;
	result = mmap(NIM_NIL, ((size_t) (size_p0)), ((int)3), (NI32)((NI32)(MAP_ANONYMOUS | MAP_PRIVATE) | ((NI32)0)), ((int)-1), ((NI)0));
	{
		if (!(result == ((void*) (((NI)-1))))) goto LA3_;
		result = NIM_NIL;
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, tryAllocPages__system_u5988)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	void* result;
	result = osTryAllocPages__system_u5677(size_p1);
	return result;
}
static N_INLINE(void, incCurrMem__system_u5964)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI bytes_p1) {
	(*a_p0).currMem += bytes_p1;
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4345);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, zeroMem__system_u1747)(void* p_p0, NI size_p1) {
	nimZeroMem(p_p0, size_p1);
}
N_LIB_PRIVATE N_NIMCALL(void*, llAlloc__system_u5992)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	void* result;
	{
		NIM_BOOL T3_;
		tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw* old;
		void* T7_;
		T3_ = (NIM_BOOL)0;
		T3_ = ((*a_p0).llmem == ((tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw*) NIM_NIL));
		if (T3_) goto LA4_;
		T3_ = ((*(*a_p0).llmem).size < size_p1);
LA4_: ;
		if (!T3_) goto LA5_;
		old = (*a_p0).llmem;
		T7_ = (void*)0;
		T7_ = allocPages__system_u5984(a_p0, ((NI)4096));
		(*a_p0).llmem = ((tyObject_LLChunk__wkpFjYQlMWntE2Zs69bjlMw*) (T7_));
		incCurrMem__system_u5964(a_p0, ((NI)4096));
		(*(*a_p0).llmem).size = ((NI)4072);
		(*(*a_p0).llmem).acc = ((NI)24);
		(*(*a_p0).llmem).next = old;
	}
LA5_: ;
	result = ((void*) ((NI)(((NI) (ptrdiff_t) ((*a_p0).llmem)) + (*(*a_p0).llmem).acc)));
	(*(*a_p0).llmem).size -= size_p1;
	(*(*a_p0).llmem).acc += size_p1;
	zeroMem__system_u1747(result, ((NI) (size_p1)));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, addHeapLink__system_u6030)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* p_p1, NI size_p2) {
	tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg* it;
	it = (&(*a_p0).heapLinks);
	{
		while (1) {
			NIM_BOOL T3_;
			T3_ = (NIM_BOOL)0;
			T3_ = !((it == ((tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg*) NIM_NIL)));
			if (!(T3_)) goto LA4_;
			T3_ = (((NI)30) <= (*it).len);
LA4_: ;
			if (!T3_) goto LA2;
			it = (*it).next;
		} LA2: ;
	}
	{
		tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg* n;
		void* T9_;
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* colontmp_;
		NI colontmp__2;
		if (!(it == ((tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg*) NIM_NIL))) goto LA7_;
		T9_ = (void*)0;
		T9_ = llAlloc__system_u5992(a_p0, ((NI)496));
		n = ((tyObject_HeapLinks__z61rP0C3NtkxPGoQn9bqUyg*) (T9_));
		(*n).next = (*a_p0).heapLinks.next;
		(*a_p0).heapLinks.next = n;
		colontmp_ = p_p1;
		colontmp__2 = size_p2;
		(*n).chunks[(((NI)0))- 0].Field0 = colontmp_;
		(*n).chunks[(((NI)0))- 0].Field1 = colontmp__2;
		(*n).len = ((NI)1);
	}
	goto LA5_;
LA7_: ;
	{
		NI L;
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* colontmp__3;
		NI colontmp__4;
		L = (*it).len;
		colontmp__3 = p_p1;
		colontmp__4 = size_p2;
		(*it).chunks[(L)- 0].Field0 = colontmp__3;
		(*it).chunks[(L)- 0].Field1 = colontmp__4;
		(*it).len += ((NI)1);
	}
LA5_: ;
}
static N_INLINE(NI, pluspercent___system_u790)(NI x_p0, NI y_p1) {
	NI result;
	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) + (NU64)(((NU) (y_p1))))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*, intSetGet__system_u6124)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* t_p0, NI key_p1) {
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* result;
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* it;
{	it = (*t_p0).data[((NI)(key_p1 & ((NI)255)))- 0];
	{
		while (1) {
			if (!!((it == ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) NIM_NIL)))) goto LA2;
			{
				if (!((*it).key == key_p1)) goto LA5_;
				result = it;
				goto BeforeRet_;
			}
LA5_: ;
			it = (*it).next;
		} LA2: ;
	}
	result = ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) NIM_NIL);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__system_u6173)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p0, NI key_p1) {
	NIM_BOOL result;
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* t;
	t = intSetGet__system_u6124(s_p0, (NI)((NI64)(key_p1) >> (NU64)(((NI)9))));
	{
		NI u;
		if (!!((t == ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) NIM_NIL)))) goto LA3_;
		u = (NI)(key_p1 & ((NI)511));
		result = !(((NU)((*t).bits[((NI)((NI64)(u) >> (NU64)(((NI)6))))- 0] & (NU)((NU64)(((NU)1)) << (NU64)((NI)(u & ((NI)63))))) == ((NU)0)));
	}
	goto LA1_;
LA3_: ;
	{
		result = NIM_FALSE;
	}
LA1_: ;
	return result;
}
static N_INLINE(NI, pageIndex__system_u6409)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0) {
	NI result;
	result = (NI)((NI64)(((NI) (ptrdiff_t) (c_p0))) >> (NU64)(((NI)12)));
	return result;
}
static N_INLINE(NI, minuspercent___system_u810)(NI x_p0, NI y_p1) {
	NI result;
	result = ((NI) ((NU)((NU64)(((NU) (x_p0))) - (NU64)(((NU) (y_p1))))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, requestOsChunks__system_u6426)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* result;
	NI colontmpD_;
	NI colontmpD__2;
	NI size_2;
	NI nxt;
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* next;
	NI lastSize;
	NI prv;
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* prev;
	colontmpD_ = (NI)0;
	colontmpD__2 = (NI)0;
	{
		NI usedMem;
		if (!!((*a_p0).blockChunkSizeIncrease)) goto LA3_;
		usedMem = (*a_p0).occ;
		{
			if (!(usedMem < ((NI)65536))) goto LA7_;
			(*a_p0).nextChunkSize = ((NI)16384);
		}
		goto LA5_;
LA7_: ;
		{
			NI T10_;
			T10_ = (NI)0;
			T10_ = roundup__system_u5654((NI)((NI64)(usedMem) >> (NU64)(((NI)2))), ((NI)4096));
			(*a_p0).nextChunkSize = ((T10_ <= (NI)((*a_p0).nextChunkSize * ((NI)2))) ? T10_ : (NI)((*a_p0).nextChunkSize * ((NI)2)));
			(*a_p0).nextChunkSize = (((*a_p0).nextChunkSize <= ((NI)1056964608)) ? (*a_p0).nextChunkSize : ((NI)1056964608));
		}
LA5_: ;
	}
LA3_: ;
	size_2 = size_p1;
	{
		void* T15_;
		if (!((*a_p0).nextChunkSize < size_2)) goto LA13_;
		T15_ = (void*)0;
		T15_ = allocPages__system_u5984(a_p0, size_2);
		result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (T15_));
	}
	goto LA11_;
LA13_: ;
	{
		void* T17_;
		T17_ = (void*)0;
		T17_ = tryAllocPages__system_u5988(a_p0, (*a_p0).nextChunkSize);
		result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (T17_));
		{
			void* T22_;
			if (!(result == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL))) goto LA20_;
			T22_ = (void*)0;
			T22_ = allocPages__system_u5984(a_p0, size_2);
			result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (T22_));
			(*a_p0).blockChunkSizeIncrease = NIM_TRUE;
		}
		goto LA18_;
LA20_: ;
		{
			size_2 = (*a_p0).nextChunkSize;
		}
LA18_: ;
	}
LA11_: ;
	incCurrMem__system_u5964(a_p0, size_2);
	(*a_p0).freeMem += size_2;
	addHeapLink__system_u6030(a_p0, result, size_2);
	(*result).next = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).Sup.size = size_2;
	nxt = pluspercent___system_u790(((NI) (ptrdiff_t) (result)), size_2);
	next = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) (nxt));
	{
		NI T26_;
		NIM_BOOL T27_;
		T26_ = (NI)0;
		T26_ = pageIndex__system_u6409(next);
		T27_ = (NIM_BOOL)0;
		T27_ = contains__system_u6173((&(*a_p0).chunkStarts), T26_);
		if (!T27_) goto LA28_;
		(*next).prevSize = (NI)(size_2 | (NI)((*next).prevSize & ((NI)1)));
	}
LA28_: ;
	{
		if (!!(((*a_p0).lastSize == ((NI)0)))) goto LA32_;
		colontmpD_ = (*a_p0).lastSize;
		lastSize = colontmpD_;
	}
	goto LA30_;
LA32_: ;
	{
		colontmpD__2 = ((NI)4096);
		lastSize = colontmpD__2;
	}
LA30_: ;
	prv = minuspercent___system_u810(((NI) (ptrdiff_t) (result)), lastSize);
	prev = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) (prv));
	{
		NIM_BOOL T37_;
		NI T38_;
		T37_ = (NIM_BOOL)0;
		T38_ = (NI)0;
		T38_ = pageIndex__system_u6409(prev);
		T37_ = contains__system_u6173((&(*a_p0).chunkStarts), T38_);
		if (!(T37_)) goto LA39_;
		T37_ = ((*prev).size == lastSize);
LA39_: ;
		if (!T37_) goto LA40_;
		(*result).Sup.prevSize = (NI)(lastSize | (NI)((*result).Sup.prevSize & ((NI)1)));
	}
	goto LA35_;
LA40_: ;
	{
		(*result).Sup.prevSize = (NI)(((NI)0) | (NI)((*result).Sup.prevSize & ((NI)1)));
	}
LA35_: ;
	(*a_p0).lastSize = size_2;
	return result;
}
static N_INLINE(NI, pageIndex__system_u6416)(void* p_p0) {
	NI result;
	result = (NI)((NI64)(((NI) (ptrdiff_t) (p_p0))) >> (NU64)(((NI)12)));
	return result;
}
static N_INLINE(NIM_BOOL, isAccessible__system_u6450)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, void* p_p1) {
	NIM_BOOL result;
	NI T1_;
	T1_ = (NI)0;
	T1_ = pageIndex__system_u6416(p_p1);
	result = contains__system_u6173((&(*a_p0).chunkStarts), T1_);
	return result;
}
static N_INLINE(void, updatePrevSize__system_u6468)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI prevSize_p2) {
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* ri;
	NI T1_;
	T1_ = (NI)0;
	T1_ = pluspercent___system_u790(((NI) (ptrdiff_t) (c_p1)), (*c_p1).Sup.size);
	ri = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) (T1_));
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = isAccessible__system_u6450((&(*a_p0)), ((void*) (ri)));
		if (!T4_) goto LA5_;
		(*ri).prevSize = (NI)(prevSize_p2 | (NI)((*ri).prevSize & ((NI)1)));
	}
LA5_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*, intSetPut__system_u6156)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* t_p1, NI key_p2) {
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* result;
	result = intSetGet__system_u6124((&(*t_p1)), key_p2);
	{
		void* T5_;
		if (!(result == ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) NIM_NIL))) goto LA3_;
		T5_ = (void*)0;
		T5_ = llAlloc__system_u5992(a_p0, ((NI)80));
		result = ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) (T5_));
		(*result).next = (*t_p1).data[((NI)(key_p2 & ((NI)255)))- 0];
		(*t_p1).data[((NI)(key_p2 & ((NI)255)))- 0] = result;
		(*result).key = key_p2;
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, incl__system_u6214)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p1, NI key_p2) {
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* t;
	NI u;
	t = intSetPut__system_u6156(a_p0, s_p1, (NI)((NI64)(key_p2) >> (NU64)(((NI)9))));
	u = (NI)(key_p2 & ((NI)511));
	(*t).bits[((NI)((NI64)(u) >> (NU64)(((NI)6))))- 0] = (NU)((*t).bits[((NI)((NI64)(u) >> (NU64)(((NI)6))))- 0] | (NU)((NU64)(((NU)1)) << (NU64)((NI)(u & ((NI)63)))));
}
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, splitChunk2__system_u6473)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI size_p2) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* result;
	NI T1_;
	tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* T2_;
	NI T3_;
	T1_ = (NI)0;
	T1_ = pluspercent___system_u790(((NI) (ptrdiff_t) (c_p1)), size_p2);
	result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (T1_));
	(*result).Sup.size = (NI)((*c_p1).Sup.size - size_p2);
	(*result).next = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).Sup.prevSize = size_p2;
	(*result).Sup.owner = a_p0;
	updatePrevSize__system_u6468(a_p0, c_p1, (*result).Sup.size);
	(*c_p1).Sup.size = size_p2;
	T2_ = (tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw*)0;
	T2_ = a_p0;
	T3_ = (NI)0;
	T3_ = pageIndex__system_u6409((*((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ**) (&(result)))));
	incl__system_u6214(T2_, (&(*a_p0).chunkStarts), T3_);
	return result;
}
static N_INLINE(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, mappingInsert__system_u5833)(NI r_p0) {
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ result;
	nimZeroMem((void*)(&result), sizeof(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ));
	result.Field0 = msbit__system_u5790(((NU32) (r_p0)));
	result.Field1 = (NI)((NI)((NI64)(r_p0) >> (NU64)((NI)(result.Field0 - ((NI)5)))) - ((NI)32));
	result.Field0 -= ((NI)6);
	return result;
}
static N_INLINE(void, setBit__system_u5801)(NI nr_p0, NU32* dest_p1) {
	(*dest_p1) = (NU32)((*dest_p1) | (NU32)((NU64)(((NU32)1)) << (NU64)((NI)(nr_p0 & ((NI)31)))));
}
N_LIB_PRIVATE N_NIMCALL(void, addChunkToMatrix__system_u5954)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1) {
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tmpTuple;
	NI fl;
	NI sl;
	tmpTuple = mappingInsert__system_u5833((*b_p1).Sup.size);
	fl = tmpTuple.Field0;
	sl = tmpTuple.Field1;
	(*b_p1).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*b_p1).next = (*a_p0).matrix[(fl)- 0][(sl)- 0];
	{
		if (!!(((*a_p0).matrix[(fl)- 0][(sl)- 0] == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL)))) goto LA3_;
		(*(*a_p0).matrix[(fl)- 0][(sl)- 0]).prev = b_p1;
	}
LA3_: ;
	(*a_p0).matrix[(fl)- 0][(sl)- 0] = b_p1;
	setBit__system_u5801(sl, (&(*a_p0).slBitmap[(fl)- 0]));
	setBit__system_u5801(fl, (&(*a_p0).flBitmap));
}
N_LIB_PRIVATE N_NIMCALL(void, splitChunk__system_u6497)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1, NI size_p2) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* rest;
	rest = splitChunk2__system_u6473(a_p0, c_p1, size_p2);
	addChunkToMatrix__system_u5954(a_p0, rest);
}
static N_INLINE(void, clearBit__system_u5808)(NI nr_p0, NU32* dest_p1) {
	(*dest_p1) = (NU32)((*dest_p1) & (NU32)((NU32) ~((NU32)((NU64)(((NU32)1)) << (NU64)((NI)(nr_p0 & ((NI)31)))))));
}
N_LIB_PRIVATE N_NIMCALL(void, removeChunkFromMatrix2__system_u5945)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1, NI fl_p2, NI sl_p3) {
	(*a_p0).matrix[(fl_p2)- 0][(sl_p3)- 0] = (*b_p1).next;
	{
		if (!!(((*a_p0).matrix[(fl_p2)- 0][(sl_p3)- 0] == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL)))) goto LA3_;
		(*(*a_p0).matrix[(fl_p2)- 0][(sl_p3)- 0]).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	}
	goto LA1_;
LA3_: ;
	{
		clearBit__system_u5808(sl_p3, (&(*a_p0).slBitmap[(fl_p2)- 0]));
		{
			if (!((*a_p0).slBitmap[(fl_p2)- 0] == ((NU32)0))) goto LA8_;
			clearBit__system_u5808(fl_p2, (&(*a_p0).flBitmap));
		}
LA8_: ;
	}
LA1_: ;
	(*b_p1).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*b_p1).next = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
}
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, getBigChunk__system_u6526)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* result;
	NI size_2;
	NI fl;
	NI sl;
	tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* T19_;
	NI T20_;
	size_2 = size_p1;
	fl = ((NI)0);
	sl = ((NI)0);
	mappingSearch__system_u5815((&size_2), (&fl), (&sl));
	result = findSuitableBlock__system_u5848((&(*a_p0)), (&fl), (&sl));
	{
		if (!(result == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL))) goto LA3_;
		{
			if (!(size_2 < ((NI)524288))) goto LA7_;
			result = requestOsChunks__system_u6426(a_p0, ((NI)524288));
			splitChunk__system_u6497(a_p0, result, size_2);
		}
		goto LA5_;
LA7_: ;
		{
			result = requestOsChunks__system_u6426(a_p0, size_2);
			{
				if (!(size_2 < (*result).Sup.size)) goto LA12_;
				splitChunk__system_u6497(a_p0, result, size_2);
			}
LA12_: ;
		}
LA5_: ;
		(*result).Sup.owner = a_p0;
	}
	goto LA1_;
LA3_: ;
	{
		removeChunkFromMatrix2__system_u5945(a_p0, result, fl, sl);
		{
			if (!((NI)(size_2 + ((NI)4096)) <= (*result).Sup.size)) goto LA17_;
			splitChunk__system_u6497(a_p0, result, size_2);
		}
LA17_: ;
	}
LA1_: ;
	(*result).Sup.prevSize = ((NI)1);
	T19_ = (tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw*)0;
	T19_ = a_p0;
	T20_ = (NI)0;
	T20_ = pageIndex__system_u6409((*((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ**) (&(result)))));
	incl__system_u6214(T19_, (&(*a_p0).chunkStarts), T20_);
	(*a_p0).freeMem -= size_2;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*, getSmallChunk__system_u6554)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0) {
	tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* result;
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* res;
	res = getBigChunk__system_u6526(a_p0, ((NI)4096));
	result = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) (res));
	return result;
}
static N_INLINE(void, listAdd__system_u6764)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw** head_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1) {
	(*c_p1).next = (*head_p0);
	{
		if (!!(((*head_p0) == ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL)))) goto LA3_;
		(*(*head_p0)).prev = c_p1;
	}
LA3_: ;
	(*head_p0) = c_p1;
}
static N_INLINE(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*, pageAddr__system_u6423)(void* p_p0) {
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* result;
	result = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) ((NI)(((NI) (ptrdiff_t) (p_p0)) & ((NI)-4096))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, compensateCounters__system_u6684)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1, NI size_p2) {
	tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* it;
	NI total;
	it = (*c_p1).freeList;
	total = ((NI)0);
	{
		while (1) {
			tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* chunk;
			tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* T3_;
			if (!!((it == ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL)))) goto LA2;
			total += size_p2;
			T3_ = (tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*)0;
			T3_ = pageAddr__system_u6423(((void*) (it)));
			chunk = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) (T3_));
			(*chunk).free += size_p2;
			it = (*it).next;
		} LA2: ;
	}
	(*a_p0).occ -= total;
}
static N_INLINE(void, listRemove__system_u6828)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw** head_p0, tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p1) {
	{
		if (!(c_p1 == (*head_p0))) goto LA3_;
		(*head_p0) = (*c_p1).next;
		{
			if (!!(((*head_p0) == ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL)))) goto LA7_;
			(*(*head_p0)).prev = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL);
		}
LA7_: ;
	}
	goto LA1_;
LA3_: ;
	{
		(*(*c_p1).prev).next = (*c_p1).next;
		{
			if (!!(((*c_p1).next == ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL)))) goto LA12_;
			(*(*c_p1).next).prev = (*c_p1).prev;
		}
LA12_: ;
	}
LA1_: ;
	(*c_p1).next = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL);
	(*c_p1).prev = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL);
}
static N_INLINE(void, addToSharedFreeListBigChunks__system_u6583)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1) {
	{
		while (1) {
			tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* T3_;
			T3_ = (tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*)0;
			T3_ = __atomic_load_n(&(*a_p0).sharedFreeListBigChunks, ((int) (__ATOMIC_RELAXED)));
			__atomic_store_n(&(*c_p1).next, T3_, ((int) (__ATOMIC_RELAXED)));
			{
				NIM_BOOL T6_;
				T6_ = (NIM_BOOL)0;
				T6_ = __atomic_compare_exchange_n(&(*a_p0).sharedFreeListBigChunks, &(*c_p1).next, c_p1, NIM_TRUE, ((int) (__ATOMIC_RELEASE)), ((int) (__ATOMIC_RELAXED)));
				if (!T6_) goto LA7_;
				goto LA1;
			}
LA7_: ;
		}
	} LA1: ;
}
N_LIB_PRIVATE N_NIMCALL(void, freeDeferredObjects__system_u6710)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* root_p1) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* it;
	NI maxIters;
	it = root_p1;
	maxIters = ((NI)20);
	{
		while (1) {
			{
				tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* rest;
				if (!(maxIters == ((NI)0))) goto LA5_;
				rest = __atomic_load_n(&(*it).next, ((int) (__ATOMIC_RELAXED)));
				__atomic_store_n(&(*it).next, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL), ((int) (__ATOMIC_RELAXED)));
				addToSharedFreeListBigChunks__system_u6583(a_p0, rest);
				goto LA1;
			}
LA5_: ;
			it = __atomic_load_n(&(*it).next, ((int) (__ATOMIC_RELAXED)));
			maxIters -= ((NI)1);
			{
				if (!(it == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL))) goto LA9_;
				goto LA1;
			}
LA9_: ;
		}
	} LA1: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*, getHugeChunk__system_u6546)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI size_p1) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* result;
	void* T1_;
	tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* T2_;
	NI T3_;
	T1_ = (void*)0;
	T1_ = allocPages__system_u5984(a_p0, size_p1);
	result = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (T1_));
	incCurrMem__system_u5964(a_p0, size_p1);
	(*result).next = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*result).Sup.size = size_p1;
	(*result).Sup.prevSize = ((NI)1);
	(*result).Sup.owner = a_p0;
	T2_ = (tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw*)0;
	T2_ = a_p0;
	T3_ = (NI)0;
	T3_ = pageIndex__system_u6409((*((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ**) (&(result)))));
	incl__system_u6214(T2_, (&(*a_p0).chunkStarts), T3_);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, rawAlloc__system_u6738)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI requestedSize_p1) {
	void* result;
	NI size;
	(*a_p0).allocCounter += ((NI)1);
	size = roundup__system_u5654(requestedSize_p1, ((NI)16));
	{
		NI s;
		tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c;
		if (!(size <= ((NI)4016))) goto LA3_;
		s = (NI)(size / ((NI)16));
		c = (*a_p0).freeSmallChunks[(s)- 0];
		{
			if (!(c == ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL))) goto LA7_;
			c = getSmallChunk__system_u6554(a_p0);
			(*c).freeList = ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL);
			(*c).Sup.size = size;
			(*c).acc = size;
			(*c).sharedFreeList = ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL);
			(*c).free = (NI)(((NI)4016) - size);
			(*c).next = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL);
			(*c).prev = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) NIM_NIL);
			listAdd__system_u6764(&(*a_p0).freeSmallChunks[(s)- 0], c);
			result = ((void*) ((*c).data));
		}
		goto LA5_;
LA7_: ;
		{
			{
				if (!((*c).freeList == ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL))) goto LA12_;
				(*c).freeList = __atomic_exchange_n(&(*c).sharedFreeList, ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL), ((int) (__ATOMIC_RELAXED)));
				compensateCounters__system_u6684(a_p0, c, size);
			}
LA12_: ;
			{
				NI T18_;
				if (!((*c).freeList == ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) NIM_NIL))) goto LA16_;
				T18_ = (NI)0;
				T18_ = pluspercent___system_u790(((NI) (ptrdiff_t) ((*c).data)), (*c).acc);
				result = ((void*) (T18_));
				(*c).acc += size;
			}
			goto LA14_;
LA16_: ;
			{
				result = ((void*) ((*c).freeList));
				(*c).freeList = (*(*c).freeList).next;
			}
LA14_: ;
			(*c).free -= size;
		}
LA5_: ;
		{
			if (!((*c).free < size)) goto LA22_;
			listRemove__system_u6828(&(*a_p0).freeSmallChunks[(s)- 0], c);
		}
LA22_: ;
		(*a_p0).occ += size;
	}
	goto LA1_;
LA3_: ;
	{
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* colontmpD_;
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* colontmpD__2;
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* deferredFrees;
		tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_2;
		colontmpD_ = (tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*)0;
		colontmpD__2 = (tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*)0;
		deferredFrees = __atomic_exchange_n(&(*a_p0).sharedFreeListBigChunks, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL), ((int) (__ATOMIC_RELAXED)));
		{
			if (!!((deferredFrees == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL)))) goto LA27_;
			freeDeferredObjects__system_u6710(a_p0, deferredFrees);
		}
LA27_: ;
		size = (NI)(requestedSize_p1 + ((NI)48));
		{
			if (!(((NI)1056964609) <= size)) goto LA31_;
			colontmpD_ = getHugeChunk__system_u6546(a_p0, size);
			c_2 = colontmpD_;
		}
		goto LA29_;
LA31_: ;
		{
			colontmpD__2 = getBigChunk__system_u6526(a_p0, size);
			c_2 = colontmpD__2;
		}
LA29_: ;
		result = ((void*) ((*c_2).data));
		(*a_p0).occ += (*c_2).Sup.size;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, alloc__system_u6963)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, NI size_p1) {
	void* result;
	result = rawAlloc__system_u6738(allocator_p0, ((NI) (size_p1)));
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, allocImpl__system_u1766)(NI size_p0) {
	void* result;
	result = alloc__system_u6963((&allocator__system_u7015), size_p0);
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, allocSharedImpl)(NI size_p0) {
	void* result;
	result = allocImpl__system_u1766(size_p0);
	return result;
}
static N_INLINE(NI, resize__system_u2244)(NI old_p0) {
	NI result;
	{
		if (!(old_p0 <= ((NI)0))) goto LA3_;
		result = ((NI)4);
	}
	goto LA1_;
LA3_: ;
	{
		if (!(old_p0 <= ((NI)32767))) goto LA6_;
		result = (NI)(old_p0 * ((NI)2));
	}
	goto LA1_;
LA6_: ;
	{
		result = (NI)((NI)(old_p0 * ((NI)3)) / ((NI)2));
	}
LA1_: ;
	return result;
}
static N_INLINE(NIM_BOOL, isSmallChunk__system_u6306)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0) {
	NIM_BOOL result;
	result = ((*c_p0).size <= ((NI)4016));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, ptrSize__system_u6951)(void* p_p0) {
	NI result;
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c;
	c = pageAddr__system_u6423(p_p0);
	result = (*c).size;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = isSmallChunk__system_u6306(c);
		if (!!(T3_)) goto LA4_;
		result -= ((NI)48);
	}
LA4_: ;
	return result;
}
static N_INLINE(NIM_BOOL, chunkUnused__system_u6312)(tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c_p0) {
	NIM_BOOL result;
	result = ((NI)((*c_p0).prevSize & ((NI)1)) == ((NI)0));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, removeChunkFromMatrix__system_u5903)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* b_p1) {
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tmpTuple;
	NI fl;
	NI sl;
	tmpTuple = mappingInsert__system_u5833((*b_p1).Sup.size);
	fl = tmpTuple.Field0;
	sl = tmpTuple.Field1;
	{
		if (!!(((*b_p1).next == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL)))) goto LA3_;
		(*(*b_p1).next).prev = (*b_p1).prev;
	}
LA3_: ;
	{
		if (!!(((*b_p1).prev == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL)))) goto LA7_;
		(*(*b_p1).prev).next = (*b_p1).next;
	}
LA7_: ;
	{
		if (!((*a_p0).matrix[(fl)- 0][(sl)- 0] == b_p1)) goto LA11_;
		(*a_p0).matrix[(fl)- 0][(sl)- 0] = (*b_p1).next;
		{
			if (!((*a_p0).matrix[(fl)- 0][(sl)- 0] == ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL))) goto LA15_;
			clearBit__system_u5808(sl, (&(*a_p0).slBitmap[(fl)- 0]));
			{
				if (!((*a_p0).slBitmap[(fl)- 0] == ((NU32)0))) goto LA19_;
				clearBit__system_u5808(fl, (&(*a_p0).flBitmap));
			}
LA19_: ;
		}
LA15_: ;
	}
LA11_: ;
	(*b_p1).prev = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
	(*b_p1).next = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) NIM_NIL);
}
N_LIB_PRIVATE N_NIMCALL(void, excl__system_u6236)(tyObject_IntSet__cpl3uEzJmOSooWWORiZF8w* s_p0, NI key_p1) {
	tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw* t;
	t = intSetGet__system_u6124((&(*s_p0)), (NI)((NI64)(key_p1) >> (NU64)(((NI)9))));
	{
		NI u;
		if (!!((t == ((tyObject_Trunk__9cejIV9cH3C1EO5bstwyO5jw*) NIM_NIL)))) goto LA3_;
		u = (NI)(key_p1 & ((NI)511));
		(*t).bits[((NI)((NI64)(u) >> (NU64)(((NI)6))))- 0] = (NU)((*t).bits[((NI)((NI64)(u) >> (NU64)(((NI)6))))- 0] & (NU)((NU64) ~((NU)((NU64)(((NU)1)) << (NU64)((NI)(u & ((NI)63)))))));
	}
LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, freeBigChunk__system_u6502)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1) {
	tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_2;
	NI prevSize;
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* ri;
	NI T24_;
	c_2 = c_p1;
	(*a_p0).freeMem += (*c_2).Sup.size;
	(*c_2).Sup.prevSize = (NI)((*c_2).Sup.prevSize & ((NI)-2));
	prevSize = (*c_2).Sup.prevSize;
	{
		tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* le;
		NI T5_;
		if (!!((prevSize == ((NI)0)))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_u810(((NI) (ptrdiff_t) (c_2)), prevSize);
		le = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) (T5_));
		{
			NIM_BOOL T8_;
			T8_ = (NIM_BOOL)0;
			T8_ = isAccessible__system_u6450((&(*a_p0)), ((void*) (le)));
			if (!(T8_)) goto LA9_;
			T8_ = chunkUnused__system_u6312(le);
LA9_: ;
			if (!T8_) goto LA10_;
			{
				NIM_BOOL T14_;
				NIM_BOOL T15_;
				NI T19_;
				T14_ = (NIM_BOOL)0;
				T15_ = (NIM_BOOL)0;
				T15_ = isSmallChunk__system_u6306(le);
				T14_ = !(T15_);
				if (!(T14_)) goto LA16_;
				T14_ = ((*le).size < ((NI)1056964608));
LA16_: ;
				if (!T14_) goto LA17_;
				removeChunkFromMatrix__system_u5903(a_p0, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (le)));
				(*le).size += (*c_2).Sup.size;
				T19_ = (NI)0;
				T19_ = pageIndex__system_u6409((*((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ**) (&(c_2)))));
				excl__system_u6236((&(*a_p0).chunkStarts), T19_);
				c_2 = ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (le));
				{
					tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* rest;
					if (!(((NI)1056964608) < (*c_2).Sup.size)) goto LA22_;
					rest = splitChunk2__system_u6473(a_p0, c_2, ((NI)1056964608));
					addChunkToMatrix__system_u5954(a_p0, c_2);
					c_2 = rest;
				}
LA22_: ;
			}
LA17_: ;
		}
LA10_: ;
	}
LA3_: ;
	T24_ = (NI)0;
	T24_ = pluspercent___system_u790(((NI) (ptrdiff_t) (c_2)), (*c_2).Sup.size);
	ri = ((tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ*) (T24_));
	{
		NIM_BOOL T27_;
		T27_ = (NIM_BOOL)0;
		T27_ = isAccessible__system_u6450((&(*a_p0)), ((void*) (ri)));
		if (!(T27_)) goto LA28_;
		T27_ = chunkUnused__system_u6312(ri);
LA28_: ;
		if (!T27_) goto LA29_;
		{
			NIM_BOOL T33_;
			NIM_BOOL T34_;
			NI T38_;
			T33_ = (NIM_BOOL)0;
			T34_ = (NIM_BOOL)0;
			T34_ = isSmallChunk__system_u6306(ri);
			T33_ = !(T34_);
			if (!(T33_)) goto LA35_;
			T33_ = ((*c_2).Sup.size < ((NI)1056964608));
LA35_: ;
			if (!T33_) goto LA36_;
			removeChunkFromMatrix__system_u5903(a_p0, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (ri)));
			(*c_2).Sup.size += (*ri).size;
			T38_ = (NI)0;
			T38_ = pageIndex__system_u6409(ri);
			excl__system_u6236((&(*a_p0).chunkStarts), T38_);
			{
				tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* rest_2;
				if (!(((NI)1056964608) < (*c_2).Sup.size)) goto LA41_;
				rest_2 = splitChunk2__system_u6473(a_p0, c_2, ((NI)1056964608));
				addChunkToMatrix__system_u5954(a_p0, rest_2);
			}
LA41_: ;
		}
LA36_: ;
	}
LA29_: ;
	addChunkToMatrix__system_u5954(a_p0, c_2);
}
static N_INLINE(void, addToSharedFreeList__system_u6626)(tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_p0, tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* f_p1) {
	{
		while (1) {
			tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* T3_;
			T3_ = (tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*)0;
			T3_ = __atomic_load_n(&(*c_p0).sharedFreeList, ((int) (__ATOMIC_RELAXED)));
			__atomic_store_n(&(*f_p1).next, T3_, ((int) (__ATOMIC_RELAXED)));
			{
				NIM_BOOL T6_;
				T6_ = (NIM_BOOL)0;
				T6_ = __atomic_compare_exchange_n(&(*c_p0).sharedFreeList, &(*f_p1).next, f_p1, NIM_TRUE, ((int) (__ATOMIC_RELEASE)), ((int) (__ATOMIC_RELAXED)));
				if (!T6_) goto LA7_;
				goto LA1;
			}
LA7_: ;
		}
	} LA1: ;
}
static N_INLINE(void, decCurrMem__system_u5972)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, NI bytes_p1) {
	(*a_p0).maxMem = (((*a_p0).maxMem >= (*a_p0).currMem) ? (*a_p0).maxMem : (*a_p0).currMem);
	(*a_p0).currMem -= bytes_p1;
}
static N_INLINE(void, osDeallocPages__system_u5680)(void* p_p0, NI size_p1) {
	int T1_;
	T1_ = (int)0;
	T1_ = munmap(p_p0, ((size_t) (size_p1)));
	(void)(T1_);
}
N_LIB_PRIVATE N_NIMCALL(void, freeHugeChunk__system_u6550)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1) {
	NI size;
	NI T1_;
	size = (*c_p1).Sup.size;
	T1_ = (NI)0;
	T1_ = pageIndex__system_u6409(&c_p1->Sup);
	excl__system_u6236((&(*a_p0).chunkStarts), T1_);
	decCurrMem__system_u5972(a_p0, size);
	osDeallocPages__system_u5680(((void*) (c_p1)), size);
}
N_LIB_PRIVATE N_NIMCALL(void, deallocBigChunk__system_u6572)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw* c_p1) {
	(*a_p0).occ -= (*c_p1).Sup.size;
	{
		if (!(((NI)1056964609) <= (*c_p1).Sup.size)) goto LA3_;
		freeHugeChunk__system_u6550(a_p0, c_p1);
	}
	goto LA1_;
LA3_: ;
	{
		freeBigChunk__system_u6502(a_p0, c_p1);
	}
LA1_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, rawDealloc__system_u6895)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* a_p0, void* p_p1) {
	tyObject_BaseChunk__TnL59bPcdE6Qh9cAqWFwyJFQ* c;
	(*a_p0).deallocCounter += ((NI)1);
	c = pageAddr__system_u6423(p_p1);
	{
		NIM_BOOL T3_;
		tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw* c_2;
		NI s;
		tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag* f;
		T3_ = (NIM_BOOL)0;
		T3_ = isSmallChunk__system_u6306(c);
		if (!T3_) goto LA4_;
		c_2 = ((tyObject_SmallChunk__c7KYTrgk4i2qTswX65c5xw*) (c));
		s = (*c_2).Sup.size;
		f = ((tyObject_FreeCell__asqF09bIoyosvmdoG9cePX9ag*) (p_p1));
		{
			if (!((*c_2).Sup.owner == a_p0)) goto LA8_;
			(*a_p0).occ -= s;
			(*f).next = (*c_2).freeList;
			(*c_2).freeList = f;
			{
				if (!((*c_2).free < s)) goto LA12_;
				listAdd__system_u6764(&(*a_p0).freeSmallChunks[((NI)(s / ((NI)16)))- 0], c_2);
				(*c_2).free += s;
			}
			goto LA10_;
LA12_: ;
			{
				(*c_2).free += s;
				{
					if (!((*c_2).free == ((NI)4016))) goto LA17_;
					listRemove__system_u6828(&(*a_p0).freeSmallChunks[((NI)(s / ((NI)16)))- 0], c_2);
					(*c_2).Sup.size = ((NI)4096);
					freeBigChunk__system_u6502(a_p0, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (c_2)));
				}
LA17_: ;
			}
LA10_: ;
		}
		goto LA6_;
LA8_: ;
		{
			addToSharedFreeList__system_u6626(c_2, f);
		}
LA6_: ;
	}
	goto LA1_;
LA4_: ;
	{
		{
			if (!((*c).owner == a_p0)) goto LA23_;
			deallocBigChunk__system_u6572(a_p0, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (c)));
		}
		goto LA21_;
LA23_: ;
		{
			addToSharedFreeListBigChunks__system_u6583((*c).owner, ((tyObject_BigChunk__J9bJvjFthoRnFLS6uhxv5zw*) (c)));
		}
LA21_: ;
	}
LA1_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, dealloc__system_u6971)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, void* p_p1) {
	rawDealloc__system_u6895(allocator_p0, p_p1);
}
N_LIB_PRIVATE N_NIMCALL(void*, realloc__system_u6974)(tyObject_MemRegion__pSPF7ReVctnAYRenam7YXw* allocator_p0, void* p_p1, NI newsize_p2) {
	void* result;
	result = (void*)0;
	{
		if (!(((NI)0) < ((NI) (newsize_p2)))) goto LA3_;
		result = alloc__system_u6963(allocator_p0, newsize_p2);
		{
			NI T9_;
			if (!!((p_p1 == NIM_NIL))) goto LA7_;
			T9_ = (NI)0;
			T9_ = ptrSize__system_u6951(p_p1);
			copyMem__system_u1750(result, p_p1, ((NI) (((T9_ <= ((NI) (newsize_p2))) ? T9_ : ((NI) (newsize_p2))))));
			dealloc__system_u6971(allocator_p0, p_p1);
		}
LA7_: ;
	}
	goto LA1_;
LA3_: ;
	{
		if (!!((p_p1 == NIM_NIL))) goto LA11_;
		dealloc__system_u6971(allocator_p0, p_p1);
	}
	goto LA1_;
LA11_: ;
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, reallocImpl__system_u1772)(void* p_p0, NI newSize_p1) {
	void* result;
	result = realloc__system_u6974((&allocator__system_u7015), p_p0, newSize_p1);
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, reallocSharedImpl__system_u1785)(void* p_p0, NI newSize_p1) {
	void* result;
	result = reallocImpl__system_u1772(p_p0, newSize_p1);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s_p0, NI addLen_p1) {
	NI newLen;
	newLen = (NI)((*s_p0).len + addLen_p1);
	{
		NIM_BOOL T3_;
		NimStrPayload* oldP;
		void* T7_;
		T3_ = (NIM_BOOL)0;
		T3_ = ((*s_p0).p == ((NimStrPayload*) NIM_NIL));
		if (T3_) goto LA4_;
		T3_ = ((NI)((*(*s_p0).p).cap & ((NI)IL64(4611686018427387904))) == ((NI)IL64(4611686018427387904)));
LA4_: ;
		if (!T3_) goto LA5_;
		oldP = (*s_p0).p;
		T7_ = (void*)0;
		T7_ = allocSharedImpl(((NI) ((NI)((NI)(newLen + ((NI)1)) + ((NI)8)))));
		(*s_p0).p = ((NimStrPayload*) (T7_));
		(*(*s_p0).p).cap = newLen;
		{
			if (!(((NI)0) < (*s_p0).len)) goto LA10_;
			copyMem__system_u1750(((void*) ((&(*(*s_p0).p).data[((NI)0)]))), ((void*) ((&(*oldP).data[((NI)0)]))), ((NI) ((((*s_p0).len <= newLen) ? (*s_p0).len : newLen))));
		}
		goto LA8_;
LA10_: ;
		{
			if (!(oldP == ((NimStrPayload*) NIM_NIL))) goto LA13_;
			(*(*s_p0).p).data[((NI)0)] = 0;
		}
		goto LA8_;
LA13_: ;
LA8_: ;
	}
	goto LA1_;
LA5_: ;
	{
		NI oldCap;
		oldCap = (NI)((*(*s_p0).p).cap & ((NI)IL64(-4611686018427387905)));
		{
			NI newCap;
			NI T20_;
			void* T21_;
			if (!(oldCap < newLen)) goto LA18_;
			T20_ = (NI)0;
			T20_ = resize__system_u2244(oldCap);
			newCap = ((newLen >= T20_) ? newLen : T20_);
			T21_ = (void*)0;
			T21_ = reallocSharedImpl__system_u1785(((void*) ((*s_p0).p)), ((NI) ((NI)((NI)(newCap + ((NI)1)) + ((NI)8)))));
			(*s_p0).p = ((NimStrPayload*) (T21_));
			(*(*s_p0).p).cap = newCap;
			{
				if (!(newLen < newCap)) goto LA24_;
				zeroMem__system_u1747(((void*) ((&(*(*s_p0).p).data[(NI)(newLen + ((NI)1))]))), ((NI) ((NI)(newCap - newLen))));
			}
LA24_: ;
		}
LA18_: ;
	}
LA1_: ;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0) {
	NCSTRING result;
	{
		if (!(s_p0.len == ((NI)0))) goto LA3_;
		result = "";
	}
	goto LA1_;
LA3_: ;
	{
		result = ((NCSTRING) ((*s_p0.p).data));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NOCONV(void, deallocImpl__system_u1770)(void* p_p0) {
	dealloc__system_u6971((&allocator__system_u7015), p_p0);
}
N_LIB_PRIVATE N_NOCONV(void, deallocSharedImpl__system_u1783)(void* p_p0) {
	deallocImpl__system_u1770(p_p0);
}
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0) {
	deallocSharedImpl__system_u1783(p_p0);
}
N_LIB_PRIVATE N_NIMCALL(void, echoBinSafe)(NimStringV2* args_p0, NI args_p0Len_0) {
	NimStringV2 s;
	int T4_;
	s.len = 0; s.p = NIM_NIL;
	s = TM__Q5wkpxktOdTGvlSRo9bzt9aw_3;
	{
		NimStringV2* arg;
		NI i;
		arg = (NimStringV2*)0;
		i = ((NI)0);
		{
			while (1) {
				if (!(i < args_p0Len_0)) goto LA3;
				arg = (&args_p0[i]);
				prepareAdd((&s), (*arg).len + 0);
appendString((&s), (*arg));
				i += ((NI)1);
			} LA3: ;
		}
	}
	T4_ = (int)0;
	T4_ = __android_log_print(((int)2), "nim", nimToCStringConv(s));
	if (s.p && !(s.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(s.p);
}
}
N_LIB_PRIVATE N_NIMCALL(void, shrink__main_u38)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* x_p0, NI newLen_p1) {
	(*((tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw*) (x_p0))).len = ((NI) (newLen_p1));
}
N_LIB_PRIVATE N_NIMCALL(NI, align__system_u1641)(NI address_p0, NI alignment_p1) {
	NI result;
	{
		if (!(alignment_p1 == ((NI)0))) goto LA3_;
		result = address_p0;
	}
	goto LA1_;
LA3_: ;
	{
		result = (NI)((NI)(address_p0 + (NI)(alignment_p1 - ((NI)1))) & (NI)((NU64) ~((NI)(alignment_p1 - ((NI)1)))));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, alignedAlloc__system_u1906)(NI size_p0, NI align_p1) {
	void* result;
	{
		if (!(((NI) (align_p1)) <= ((NI)16))) goto LA3_;
		result = allocSharedImpl(size_p0);
	}
	goto LA1_;
LA3_: ;
	{
		void* base;
		NI offset;
		NI T6_;
		NI T7_;
		base = allocSharedImpl(((NI) ((NI)((NI)((NI)(((NI) (size_p0)) + ((NI) (align_p1))) - ((NI)1)) + ((NI)2)))));
		offset = (NI)(((NI) (align_p1)) - (NI)(((NI) (ptrdiff_t) (base)) & (NI)(((NI) (align_p1)) - ((NI)1))));
		T6_ = (NI)0;
		T6_ = pluspercent___system_u790(((NI) (ptrdiff_t) (base)), (NI)(offset - ((NI)2)));
		(*((NU16*) (((void*) (T6_))))) = ((NU16) (offset));
		T7_ = (NI)0;
		T7_ = pluspercent___system_u790(((NI) (ptrdiff_t) (base)), offset);
		result = ((void*) (T7_));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayloadUninit)(NI cap_p0, NI elemSize_p1, NI elemAlign_p2) {
	void* result;
	{
		tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA* p;
		NI T5_;
		void* T6_;
		if (!(((NI)0) < cap_p0)) goto LA3_;
		T5_ = (NI)0;
		T5_ = align__system_u1641(((NI)8), elemAlign_p2);
		T6_ = (void*)0;
		T6_ = alignedAlloc__system_u1906(((NI) ((NI)(T5_ + (NI)(cap_p0 * elemSize_p1)))), ((NI) (elemAlign_p2)));
		p = ((tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA*) (T6_));
		(*p).cap = cap_p0;
		result = ((void*) (p));
	}
	goto LA1_;
LA3_: ;
	{
		result = NIM_NIL;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p_p0, NI align_p1) {
	{
		if (!(align_p1 <= ((NI)16))) goto LA3_;
		deallocShared(p_p0);
	}
	goto LA1_;
LA3_: ;
	{
		NU16 offset;
		NI T6_;
		NI T7_;
		T6_ = (NI)0;
		T6_ = minuspercent___system_u810(((NI) (ptrdiff_t) (p_p0)), ((NI)2));
		offset = (*((NU16*) (((void*) (T6_)))));
		T7_ = (NI)0;
		T7_ = minuspercent___system_u810(((NI) (ptrdiff_t) (p_p0)), ((NI) (offset)));
		deallocShared(((void*) (T7_)));
	}
LA1_: ;
}
N_LIB_PRIVATE N_NIMCALL(void*, alignedRealloc__system_u1966)(void* p_p0, NI oldSize_p1, NI newSize_p2, NI align_p3) {
	void* result;
	{
		if (!(((NI) (align_p3)) <= ((NI)16))) goto LA3_;
		result = reallocSharedImpl__system_u1785(p_p0, newSize_p2);
	}
	goto LA1_;
LA3_: ;
	{
		result = alignedAlloc__system_u1906(newSize_p2, align_p3);
		copyMem__system_u1750(result, p_p0, oldSize_p1);
		alignedDealloc(p_p0, ((NI) (align_p3)));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, prepareSeqAddUninit)(NI len_p0, void* p_p1, NI addlen_p2, NI elemSize_p3, NI elemAlign_p4) {
	void* result;
	NI headerSize;
	result = (void*)0;
	headerSize = align__system_u1641(((NI)8), elemAlign_p4);
	{
		if (!(addlen_p2 <= ((NI)0))) goto LA3_;
		result = p_p1;
	}
	goto LA1_;
LA3_: ;
	{
		if (!(p_p1 == NIM_NIL)) goto LA6_;
		result = newSeqPayloadUninit((NI)(len_p0 + addlen_p2), elemSize_p3, elemAlign_p4);
	}
	goto LA1_;
LA6_: ;
	{
		tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA* p_2;
		NI oldCap;
		NI newCap;
		NI T9_;
		p_2 = ((tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA*) (p_p1));
		oldCap = (NI)((*p_2).cap & ((NI)IL64(-4611686018427387905)));
		T9_ = (NI)0;
		T9_ = resize__system_u2244(oldCap);
		newCap = ((T9_ >= (NI)(len_p0 + addlen_p2)) ? T9_ : (NI)(len_p0 + addlen_p2));
		{
			tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA* q;
			void* T14_;
			NI T15_;
			NI T16_;
			if (!((NI)((*p_2).cap & ((NI)IL64(4611686018427387904))) == ((NI)IL64(4611686018427387904)))) goto LA12_;
			T14_ = (void*)0;
			T14_ = alignedAlloc__system_u1906(((NI) ((NI)(headerSize + (NI)(elemSize_p3 * newCap)))), ((NI) (elemAlign_p4)));
			q = ((tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA*) (T14_));
			T15_ = (NI)0;
			T15_ = pluspercent___system_u790(((NI) (ptrdiff_t) (q)), headerSize);
			T16_ = (NI)0;
			T16_ = pluspercent___system_u790(((NI) (ptrdiff_t) (p_2)), headerSize);
			copyMem__system_u1750(((void*) (T15_)), ((void*) (T16_)), ((NI) ((NI)(len_p0 * elemSize_p3))));
			(*q).cap = newCap;
			result = ((void*) (q));
		}
		goto LA10_;
LA12_: ;
		{
			NI oldSize;
			NI newSize;
			tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA* q_2;
			void* T18_;
			oldSize = (NI)(headerSize + (NI)(elemSize_p3 * oldCap));
			newSize = (NI)(headerSize + (NI)(elemSize_p3 * newCap));
			T18_ = (void*)0;
			T18_ = alignedRealloc__system_u1966(((void*) (p_2)), ((NI) (oldSize)), ((NI) (newSize)), ((NI) (elemAlign_p4)));
			q_2 = ((tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA*) (T18_));
			(*q_2).cap = newCap;
			result = ((void*) (q_2));
		}
LA10_: ;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLen__main_u42)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* s_p0, NI newlen_p1) {
{	{
		NI T3_;
		T3_ = (*s_p0).len;
		if (!(((NI) (newlen_p1)) < T3_)) goto LA4_;
		shrink__main_u38(s_p0, newlen_p1);
	}
	goto LA1_;
LA4_: ;
	{
		NI oldLen;
		NI T7_;
		tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw* xu;
		T7_ = (*s_p0).len;
		oldLen = T7_;
		{
			if (!(((NI) (newlen_p1)) <= oldLen)) goto LA10_;
			goto BeforeRet_;
		}
LA10_: ;
		xu = ((tyObject_NimSeqV2__uoERDp9b9bthY2Gj3vfxkdjw*) (s_p0));
		{
			NIM_BOOL T14_;
			void* T18_;
			T14_ = (NIM_BOOL)0;
			T14_ = ((*xu).p == ((tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg*) NIM_NIL));
			if (T14_) goto LA15_;
			T14_ = ((NI)((*(*xu).p).cap & ((NI)IL64(-4611686018427387905))) < ((NI) (newlen_p1)));
LA15_: ;
			if (!T14_) goto LA16_;
			T18_ = (void*)0;
			T18_ = prepareSeqAddUninit(oldLen, ((void*) ((*xu).p)), (NI)(((NI) (newlen_p1)) - oldLen), ((NI)1), ((NI)1));
			(*xu).p = ((tyObject_NimSeqPayload__GKKqbH2QOimQx6341Vopsg*) (T18_));
		}
LA16_: ;
		(*xu).len = ((NI) (newlen_p1));
		{
			NI i;
			NI colontmp_;
			NI i_2;
			i = (NI)0;
			colontmp_ = (NI)0;
			colontmp_ = ((NI) (newlen_p1));
			i_2 = oldLen;
			{
				while (1) {
					if (!(i_2 < colontmp_)) goto LA21;
					i = i_2;
					(*(*xu).p).data[i] = 0;
					i_2 += ((NI)1);
				} LA21: ;
			}
		}
	}
LA1_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, newSeq__main_u34)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* s_p0, NI len_p1) {
	shrink__main_u38(s_p0, ((NI)0));
	setLen__main_u42((&(*s_p0)), len_p1);
}
N_LIB_PRIVATE N_NIMCALL(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ, newSeq__main_u130)(NI len_p0) {
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ result;
	result.len = 0; result.p = NIM_NIL;
	newSeq__main_u34((&result), len_p0);
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, realloc0Impl__system_u1775)(void* p_p0, NI oldSize_p1, NI newSize_p2) {
	void* result;
	result = realloc__system_u6974((&allocator__system_u7015), p_p0, newSize_p2);
	{
		if (!(((NI) (oldSize_p1)) < ((NI) (newSize_p2)))) goto LA3_;
		zeroMem__system_u1747(((void*) ((NU)((NU64)(((NU) (ptrdiff_t) (result))) + (NU64)(((NU) (oldSize_p1)))))), ((NI) ((NI)(((NI) (newSize_p2)) - ((NI) (oldSize_p1))))));
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NOCONV(void*, reallocShared0Impl__system_u1788)(void* p_p0, NI oldSize_p1, NI newSize_p2) {
	void* result;
	result = realloc0Impl__system_u1775(p_p0, oldSize_p1, newSize_p2);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s_p0, NI newLen_p1) {
	{
		if (!(newLen_p1 == ((NI)0))) goto LA3_;
	}
	goto LA1_;
LA3_: ;
	{
		{
			NIM_BOOL T8_;
			NimStrPayload* oldP;
			void* T12_;
			T8_ = (NIM_BOOL)0;
			T8_ = ((*s_p0).p == ((NimStrPayload*) NIM_NIL));
			if (T8_) goto LA9_;
			T8_ = ((NI)((*(*s_p0).p).cap & ((NI)IL64(4611686018427387904))) == ((NI)IL64(4611686018427387904)));
LA9_: ;
			if (!T8_) goto LA10_;
			oldP = (*s_p0).p;
			T12_ = (void*)0;
			T12_ = allocSharedImpl(((NI) ((NI)((NI)(newLen_p1 + ((NI)1)) + ((NI)8)))));
			(*s_p0).p = ((NimStrPayload*) (T12_));
			(*(*s_p0).p).cap = newLen_p1;
			{
				if (!(((NI)0) < (*s_p0).len)) goto LA15_;
				copyMem__system_u1750(((void*) ((&(*(*s_p0).p).data[((NI)0)]))), ((void*) ((&(*oldP).data[((NI)0)]))), ((NI) ((((*s_p0).len <= newLen_p1) ? (*s_p0).len : newLen_p1))));
				{
					if (!((*s_p0).len < newLen_p1)) goto LA19_;
					zeroMem__system_u1747(((void*) ((&(*(*s_p0).p).data[(*s_p0).len]))), ((NI) ((NI)((NI)(newLen_p1 - (*s_p0).len) + ((NI)1)))));
				}
				goto LA17_;
LA19_: ;
				{
					(*(*s_p0).p).data[newLen_p1] = 0;
				}
LA17_: ;
			}
			goto LA13_;
LA15_: ;
			{
				zeroMem__system_u1747(((void*) ((&(*(*s_p0).p).data[((NI)0)]))), ((NI) ((NI)(newLen_p1 + ((NI)1)))));
			}
LA13_: ;
		}
		goto LA6_;
LA10_: ;
		{
			NI oldCap;
			if (!((*s_p0).len < newLen_p1)) goto LA24_;
			oldCap = (NI)((*(*s_p0).p).cap & ((NI)IL64(-4611686018427387905)));
			{
				NI newCap;
				NI T30_;
				void* T31_;
				if (!(oldCap < newLen_p1)) goto LA28_;
				T30_ = (NI)0;
				T30_ = resize__system_u2244(oldCap);
				newCap = ((newLen_p1 >= T30_) ? newLen_p1 : T30_);
				T31_ = (void*)0;
				T31_ = reallocShared0Impl__system_u1788(((void*) ((*s_p0).p)), ((NI) ((NI)((NI)(oldCap + ((NI)1)) + ((NI)8)))), ((NI) ((NI)((NI)(newCap + ((NI)1)) + ((NI)8)))));
				(*s_p0).p = ((NimStrPayload*) (T31_));
				(*(*s_p0).p).cap = newCap;
			}
LA28_: ;
		}
		goto LA6_;
LA24_: ;
LA6_: ;
		(*(*s_p0).p).data[newLen_p1] = 0;
	}
LA1_: ;
	(*s_p0).len = newLen_p1;
}
N_LIB_PRIVATE N_NIMCALL(void, unregisterCycle__system_u3065)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0) {
	NI idx;
	idx = (NI)((*s_p0).rootIdx - ((NI)1));
	roots__system_u3064.d[idx] = roots__system_u3064.d[(NI)(roots__system_u3064.len - ((NI)1))];
	(*roots__system_u3064.d[idx].Field0).rootIdx = (NI)(idx + ((NI)1));
	roots__system_u3064.len -= ((NI)1);
	(*s_p0).rootIdx = ((NI)0);
}
N_LIB_PRIVATE N_NIMCALL(void, init__system_u3303)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0, NI cap_p1) {
	void* T1_;
	(*s_p0).len = ((NI)0);
	(*s_p0).cap = cap_p1;
	T1_ = (void*)0;
	T1_ = allocSharedImpl(((NI) (((NU) ((NI)((*s_p0).cap * ((NI)16)))))));
	(*s_p0).d = ((tyTuple__v8m6PEFL3KMh2a55VJabyg*) (T1_));
}
N_LIB_PRIVATE N_NIMCALL(void, resize__system_u3219)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0) {
	NI newSize;
	void* T1_;
	(*s_p0).cap = (NI)((NI)((*s_p0).cap * ((NI)3)) / ((NI)2));
	newSize = (NI)((*s_p0).cap * ((NI)16));
	T1_ = (void*)0;
	T1_ = reallocSharedImpl__system_u1785(((void*) ((*s_p0).d)), ((NI) (newSize)));
	(*s_p0).d = ((tyTuple__v8m6PEFL3KMh2a55VJabyg*) (T1_));
}
static N_INLINE(void, add__system_u3211)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0, tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* c_p1, TNimTypeV2* t_p2) {
	tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* colontmp_;
	TNimTypeV2* colontmp__2;
	{
		if (!((*s_p0).cap <= (*s_p0).len)) goto LA3_;
		resize__system_u3219(s_p0);
	}
LA3_: ;
	colontmp_ = c_p1;
	colontmp__2 = t_p2;
	(*s_p0).d[(*s_p0).len].Field0 = colontmp_;
	(*s_p0).d[(*s_p0).len].Field1 = colontmp__2;
	(*s_p0).len += ((NI)1);
}
N_LIB_PRIVATE N_NIMCALL(void, init__system_u3374)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0, NI cap_p1) {
	void* T1_;
	(*s_p0).len = ((NI)0);
	(*s_p0).cap = cap_p1;
	T1_ = (void*)0;
	T1_ = allocSharedImpl(((NI) (((NU) ((NI)((*s_p0).cap * ((NI)16)))))));
	(*s_p0).d = ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) (T1_));
}
static N_INLINE(void, trace__system_u2884)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		void* p;
		NI T5_;
		if (!!(((*desc_p1).traceImpl == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = pluspercent___system_u790(((NI) (ptrdiff_t) (s_p0)), ((NI)16));
		p = ((void*) (T5_));
		((tyProc__fhqfcnDhIcLpBpSTVsWEZg) ((*desc_p1).traceImpl))(p, ((void*) (j_p2)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__N4J9cV4JZGem3ljqqj5rT0Q, pop__system_u3101)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0) {
	tyTuple__N4J9cV4JZGem3ljqqj5rT0Q result;
	result = (*s_p0).d[(NI)((*s_p0).len - ((NI)1))];
	(*s_p0).len -= ((NI)1);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, markGray__system_u3122)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!(((NI)((*s_p0).rc & ((NI)3)) == ((NI)1)))) goto LA3_;
		(*s_p0).rc = (NI)((NI)((*s_p0).rc & ((NI)-4)) | ((NI)1));
		(*j_p2).touched += ((NI)1);
		(*j_p2).rcSum += (NI)((NI)((NI64)((*s_p0).rc) >> (NU64)(((NI)4))) + ((NI)1));
		trace__system_u2884(s_p0, desc_p1, j_p2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		{
			while (1) {
				tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tmpTuple;
				void** entry;
				TNimTypeV2* desc_2;
				tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* t;
				NI T7_;
				if (!(((NI)0) < (*j_p2).traceStack.len)) goto LA6;
				tmpTuple = pop__system_u3101((&(*j_p2).traceStack));
				entry = tmpTuple.Field0;
				desc_2 = tmpTuple.Field1;
				T7_ = (NI)0;
				T7_ = minuspercent___system_u810(((NI) (ptrdiff_t) ((*entry))), ((NI)16));
				t = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T7_));
				(*t).rc -= ((NI)16);
				(*j_p2).edges += ((NI)1);
				{
					if (!!(((NI)((*t).rc & ((NI)3)) == ((NI)1)))) goto LA10_;
					(*t).rc = (NI)((NI)((*t).rc & ((NI)-4)) | ((NI)1));
					(*j_p2).touched += ((NI)1);
					(*j_p2).rcSum += (NI)((NI)((NI64)((*t).rc) >> (NU64)(((NI)4))) + ((NI)2));
					trace__system_u2884(t, desc_2, j_p2);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA10_: ;
			} LA6: ;
		}
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, scanBlack__system_u3093)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2) {
	NI until;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	(*s_p0).rc = (NI)((*s_p0).rc & ((NI)-4));
	until = (*j_p2).traceStack.len;
	trace__system_u2884(s_p0, desc_p1, j_p2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		while (1) {
			tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tmpTuple;
			void** entry;
			TNimTypeV2* desc_2;
			tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* t;
			NI T3_;
			if (!(until < (*j_p2).traceStack.len)) goto LA2;
			tmpTuple = pop__system_u3101((&(*j_p2).traceStack));
			entry = tmpTuple.Field0;
			desc_2 = tmpTuple.Field1;
			T3_ = (NI)0;
			T3_ = minuspercent___system_u810(((NI) (ptrdiff_t) ((*entry))), ((NI)16));
			t = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T3_));
			(*t).rc += ((NI)16);
			{
				if (!!(((NI)((*t).rc & ((NI)3)) == ((NI)0)))) goto LA6_;
				(*t).rc = (NI)((*t).rc & ((NI)-4));
				trace__system_u2884(t, desc_2, j_p2);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA6_: ;
		} LA2: ;
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, scan__system_u3178)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!((NI)((*s_p0).rc & ((NI)3)) == ((NI)1))) goto LA3_;
		{
			if (!(((NI)0) <= (NI)((NI64)((*s_p0).rc) >> (NU64)(((NI)4))))) goto LA7_;
			scanBlack__system_u3093(s_p0, desc_p1, j_p2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA5_;
LA7_: ;
		{
			(*s_p0).rc = (NI)((NI)((*s_p0).rc & ((NI)-4)) | ((NI)2));
			trace__system_u2884(s_p0, desc_p1, j_p2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				while (1) {
					tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tmpTuple;
					void** entry;
					TNimTypeV2* desc_2;
					tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* t;
					NI T12_;
					if (!(((NI)0) < (*j_p2).traceStack.len)) goto LA11;
					tmpTuple = pop__system_u3101((&(*j_p2).traceStack));
					entry = tmpTuple.Field0;
					desc_2 = tmpTuple.Field1;
					T12_ = (NI)0;
					T12_ = minuspercent___system_u810(((NI) (ptrdiff_t) ((*entry))), ((NI)16));
					t = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T12_));
					{
						if (!((NI)((*t).rc & ((NI)3)) == ((NI)1))) goto LA15_;
						{
							if (!(((NI)0) <= (NI)((NI64)((*t).rc) >> (NU64)(((NI)4))))) goto LA19_;
							scanBlack__system_u3093(t, desc_2, j_p2);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						goto LA17_;
LA19_: ;
						{
							(*t).rc = (NI)((NI)((*t).rc & ((NI)-4)) | ((NI)2));
							trace__system_u2884(t, desc_2, j_p2);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
LA17_: ;
					}
LA15_: ;
				} LA11: ;
			}
		}
LA5_: ;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, collectColor__system_u3203)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1, NI col_p2, tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p3) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = ((NI)((*s_p0).rc & ((NI)3)) == col_p2);
		if (!(T3_)) goto LA4_;
		T3_ = ((*s_p0).rootIdx == ((NI)0));
LA4_: ;
		if (!T3_) goto LA5_;
		(*s_p0).rc = (NI)((*s_p0).rc & ((NI)-4));
		add__system_u3211((&(*j_p3).toFree), s_p0, desc_p1);
		trace__system_u2884(s_p0, desc_p1, j_p3);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		{
			while (1) {
				tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tmpTuple;
				void** entry;
				TNimTypeV2* desc_2;
				tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* t;
				NI T9_;
				if (!(((NI)0) < (*j_p3).traceStack.len)) goto LA8;
				tmpTuple = pop__system_u3101((&(*j_p3).traceStack));
				entry = tmpTuple.Field0;
				desc_2 = tmpTuple.Field1;
				T9_ = (NI)0;
				T9_ = minuspercent___system_u810(((NI) (ptrdiff_t) ((*entry))), ((NI)16));
				t = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T9_));
				(*entry) = NIM_NIL;
				{
					NIM_BOOL T12_;
					T12_ = (NIM_BOOL)0;
					T12_ = ((NI)((*t).rc & ((NI)3)) == col_p2);
					if (!(T12_)) goto LA13_;
					T12_ = ((*t).rootIdx == ((NI)0));
LA13_: ;
					if (!T12_) goto LA14_;
					add__system_u3211((&(*j_p3).toFree), t, desc_2);
					(*t).rc = (NI)((*t).rc & ((NI)-4));
					trace__system_u2884(t, desc_2, j_p3);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA14_: ;
			} LA8: ;
		}
	}
LA5_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1) {
	NI hdrSize;
	NI T1_;
	hdrSize = align__system_u1641(((NI)16), alignment_p1);
	T1_ = (NI)0;
	T1_ = minuspercent___system_u810(((NI) (ptrdiff_t) (p_p0)), hdrSize);
	alignedDealloc(((void*) (T1_)), alignment_p1);
}
static N_INLINE(void, free__system_u2934)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1) {
	void* p;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (NI)0;
	T1_ = pluspercent___system_u790(((NI) (ptrdiff_t) (s_p0)), ((NI)16));
	p = ((void*) (T1_));
	{
		if (!!(((*desc_p1).destructor == NIM_NIL))) goto LA4_;
		((tyProc__4SVlZZPmetqBimNsH9cHcOA) ((*desc_p1).destructor))(p);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	nimRawDispose(p, ((NI) ((*desc_p1).align)));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, deinit__system_u3342)(tyObject_CellSeq__MZ3vrnJoRJ9cOe8aQ89bLCEQ* s_p0) {
	{
		if (!!(((*s_p0).d == ((tyTuple__v8m6PEFL3KMh2a55VJabyg*) NIM_NIL)))) goto LA3_;
		deallocShared(((void*) ((*s_p0).d)));
		(*s_p0).d = ((tyTuple__v8m6PEFL3KMh2a55VJabyg*) NIM_NIL);
	}
LA3_: ;
	(*s_p0).len = ((NI)0);
	(*s_p0).cap = ((NI)0);
}
N_LIB_PRIVATE N_NIMCALL(void, collectCyclesBacon__system_u3275)(tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw* j_p0, NI lowMark_p1) {
	NI last;
	NI colToCollect;
	NI oldThreshold;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	last = (NI)(roots__system_u3064.len - ((NI)1));
	{
		NI i;
		NI res;
		i = (NI)0;
		res = last;
		{
			while (1) {
				if (!(lowMark_p1 <= res)) goto LA3;
				i = ((NI) (res));
				markGray__system_u3122(roots__system_u3064.d[i].Field0, roots__system_u3064.d[i].Field1, j_p0);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				res -= ((NI)1);
			} LA3: ;
		}
	}
	colToCollect = ((NI)2);
	{
		if (!((*j_p0).rcSum == (*j_p0).edges)) goto LA6_;
		colToCollect = ((NI)1);
		(*j_p0).keepThreshold = NIM_TRUE;
	}
	goto LA4_;
LA6_: ;
	{
		{
			NI i_2;
			NI res_2;
			i_2 = (NI)0;
			res_2 = last;
			{
				while (1) {
					if (!(lowMark_p1 <= res_2)) goto LA11;
					i_2 = ((NI) (res_2));
					scan__system_u3178(roots__system_u3064.d[i_2].Field0, roots__system_u3064.d[i_2].Field1, j_p0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					res_2 -= ((NI)1);
				} LA11: ;
			}
		}
	}
LA4_: ;
	init__system_u3303((&(*j_p0).toFree), ((NI)1024));
	{
		NI i_3;
		NI i_4;
		i_3 = (NI)0;
		i_4 = ((NI)0);
		{
			while (1) {
				tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s;
				if (!(i_4 < roots__system_u3064.len)) goto LA14;
				i_3 = i_4;
				s = roots__system_u3064.d[i_3].Field0;
				(*s).rootIdx = ((NI)0);
				collectColor__system_u3203(s, roots__system_u3064.d[i_3].Field1, colToCollect, j_p0);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				i_4 += ((NI)1);
			} LA14: ;
		}
	}
	oldThreshold = rootsThreshold__system_u3274;
	rootsThreshold__system_u3274 = ((NI)IL64(9223372036854775807));
	roots__system_u3064.len = ((NI)0);
	{
		NI i_5;
		NI i_6;
		i_5 = (NI)0;
		i_6 = ((NI)0);
		{
			while (1) {
				if (!(i_6 < (*j_p0).toFree.len)) goto LA17;
				i_5 = i_6;
				free__system_u2934((*j_p0).toFree.d[i_5].Field0, (*j_p0).toFree.d[i_5].Field1);
				i_6 += ((NI)1);
			} LA17: ;
		}
	}
	rootsThreshold__system_u3274 = oldThreshold;
	(*j_p0).freed += (*j_p0).toFree.len;
	deinit__system_u3342((&(*j_p0).toFree));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, deinit__system_u3386)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0) {
	{
		if (!!(((*s_p0).d == ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) NIM_NIL)))) goto LA3_;
		deallocShared(((void*) ((*s_p0).d)));
		(*s_p0).d = ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) NIM_NIL);
	}
LA3_: ;
	(*s_p0).len = ((NI)0);
	(*s_p0).cap = ((NI)0);
}
N_LIB_PRIVATE N_NIMCALL(void, collectCycles__system_u3422)(void) {
	tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw j;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&j), sizeof(tyObject_GcEnv__YZbBpAB7y9bEm9a6qzlH6rdw));
	init__system_u3374((&j.traceStack), ((NI)1024));
	collectCyclesBacon__system_u3275((&j), ((NI)0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	deinit__system_u3386((&j.traceStack));
	{
		if (!(roots__system_u3064.len == ((NI)0))) goto LA3_;
		deinit__system_u3342((&roots__system_u3064));
	}
LA3_: ;
	{
		if (!j.keepThreshold) goto LA7_;
	}
	goto LA5_;
LA7_: ;
	{
		if (!(j.touched <= (NI)(j.freed * ((NI)2)))) goto LA10_;
		rootsThreshold__system_u3274 = (((NI)((NI)(rootsThreshold__system_u3274 / ((NI)3)) * ((NI)2)) >= ((NI)16)) ? (NI)((NI)(rootsThreshold__system_u3274 / ((NI)3)) * ((NI)2)) : ((NI)16));
	}
	goto LA5_;
LA10_: ;
	{
		NI colontmpD_;
		NI colontmpD__2;
		NI T15_;
		if (!(rootsThreshold__system_u3274 < ((NI)IL64(2305843009213693951)))) goto LA13_;
		colontmpD_ = (NI)0;
		colontmpD__2 = (NI)0;
		T15_ = (NI)0;
		{
			if (!(rootsThreshold__system_u3274 <= ((NI)0))) goto LA18_;
			colontmpD_ = ((NI)128);
			T15_ = colontmpD_;
		}
		goto LA16_;
LA18_: ;
		{
			colontmpD__2 = rootsThreshold__system_u3274;
			T15_ = colontmpD__2;
		}
LA16_: ;
		rootsThreshold__system_u3274 = (NI)((NI)(T15_ * ((NI)3)) / ((NI)2));
	}
	goto LA5_;
LA13_: ;
LA5_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, registerCycle__system_u3447)(tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p0, TNimTypeV2* desc_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	(*s_p0).rootIdx = (NI)(roots__system_u3064.len + ((NI)1));
	{
		if (!(roots__system_u3064.d == ((tyTuple__v8m6PEFL3KMh2a55VJabyg*) NIM_NIL))) goto LA3_;
		init__system_u3303((&roots__system_u3064), ((NI)1024));
	}
LA3_: ;
	add__system_u3211((&roots__system_u3064), s_p0, desc_p1);
	{
		if (!(rootsThreshold__system_u3274 <= (NI)(roots__system_u3064.len - ((NI)128)))) goto LA7_;
		collectCycles__system_u3422();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA7_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_u3487)(NIM_BOOL isDestroyAction_p0, tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* s_p1, TNimTypeV2* desc_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!isDestroyAction_p0) goto LA3_;
		{
			if (!(((NI)0) < (*s_p1).rootIdx)) goto LA7_;
			unregisterCycle__system_u3065(s_p1);
		}
LA7_: ;
	}
	goto LA1_;
LA3_: ;
	{
		{
			NIM_BOOL T12_;
			T12_ = (NIM_BOOL)0;
			T12_ = ((*s_p1).rootIdx == ((NI)0));
			if (!(T12_)) goto LA13_;
			T12_ = ((NI)((*desc_p2).flags & ((NI)1)) == ((NI)0));
LA13_: ;
			if (!T12_) goto LA14_;
			(*s_p1).rc = (NI)((*s_p1).rc & ((NI)-4));
			registerCycle__system_u3447(s_p1, desc_p2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA14_: ;
	}
LA1_: ;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0) {
	NIM_BOOL result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* cell;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_u810(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
		cell = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T5_));
		{
			if (!((NI)((*cell).rc & ((NI)-16)) == ((NI)0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			(*cell).rc -= ((NI)16);
		}
LA6_: ;
		rememberCycle__system_u3487(result, cell, (*((TNimTypeV2**) (p_p0))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p_p0) {
	TNimTypeV2** rti;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	rti = ((TNimTypeV2**) (p_p0));
	{
		if (!!(((*(*rti)).destructor == NIM_NIL))) goto LA3_;
		((tyProc__4SVlZZPmetqBimNsH9cHcOA) ((*(*rti)).destructor))(p_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	nimRawDispose(p_p0, ((NI) ((*(*rti)).align)));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u378)(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn(dest_p0);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose(dest_p0);
	}
LA4_: ;
}
N_LIB_PRIVATE N_NOCONV(void*, allocShared0Impl__system_u1781)(NI size_p0) {
	void* result;
	result = allocSharedImpl(size_p0);
	zeroMem__system_u1747(result, size_p0);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, alignedAlloc0__system_u1952)(NI size_p0, NI align_p1) {
	void* result;
	{
		if (!(((NI) (align_p1)) <= ((NI)16))) goto LA3_;
		result = allocShared0Impl__system_u1781(size_p0);
	}
	goto LA1_;
LA3_: ;
	{
		void* base;
		NI offset;
		NI T6_;
		NI T7_;
		base = allocShared0Impl__system_u1781(((NI) ((NI)((NI)((NI)(((NI) (size_p0)) + ((NI) (align_p1))) - ((NI)1)) + ((NI)2)))));
		offset = (NI)(((NI) (align_p1)) - (NI)(((NI) (ptrdiff_t) (base)) & (NI)(((NI) (align_p1)) - ((NI)1))));
		T6_ = (NI)0;
		T6_ = pluspercent___system_u790(((NI) (ptrdiff_t) (base)), (NI)(offset - ((NI)2)));
		(*((NU16*) (((void*) (T6_))))) = ((NU16) (offset));
		T7_ = (NI)0;
		T7_ = pluspercent___system_u790(((NI) (ptrdiff_t) (base)), offset);
		result = ((void*) (T7_));
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1) {
	void* result;
	NI hdrSize;
	NI s;
	void* T1_;
	NI T2_;
	hdrSize = align__system_u1641(((NI)16), alignment_p1);
	s = (NI)(size_p0 + hdrSize);
	T1_ = (void*)0;
	T1_ = alignedAlloc0__system_u1952(((NI) (s)), ((NI) (alignment_p1)));
	T2_ = (NI)0;
	T2_ = pluspercent___system_u790(((NI) (ptrdiff_t) (T1_)), hdrSize);
	result = ((void*) (T2_));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___stdZassertions_u91)(tySequence__LaG9a3ln9cHpAtM2PoiEBtMA dest_p0) {
	if (dest_p0.p && !(dest_p0.p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc(dest_p0.p, NIM_ALIGNOF(tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw));
}
}
N_LIB_PRIVATE N_NIMCALL(void, resize__system_u2959)(tyObject_CellSeq__NbFHq68WBMdljkCuuVfjIw* s_p0) {
	NI newSize;
	void* T1_;
	(*s_p0).cap = (NI)((NI)((*s_p0).cap * ((NI)3)) / ((NI)2));
	newSize = (NI)((*s_p0).cap * ((NI)16));
	T1_ = (void*)0;
	T1_ = reallocSharedImpl__system_u1785(((void*) ((*s_p0).d)), ((NI) (newSize)));
	(*s_p0).d = ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) (T1_));
}
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u375)(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA** dest_p0) {
	(*dest_p0) = 0;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA*, new__OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u366)(void) {
	tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA* result;
	tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA* r;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	r = NIM_NIL;
	eqdestroy___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u378(r);
	r = (tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA*) nimNewObj(sizeof(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA), NIM_ALIGNOF(tyObject_GLerror__pecJ3qrtkP9cNFDFcCVFvuA));
	(*r).Sup.Sup.m_type = (&NTIv2__pecJ3qrtkP9cNFDFcCVFvuA_);
	(*r).Sup.name = "GLerror";
	result = r;
	eqwasMoved___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u375(&r);
	eqdestroy___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u378(r);
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		eqdestroy___OOZOOZOOZOOZOOZOOZOOZOnimbleZpkgs50Zopengl4549O50O57455655ece57f51a57f5757d4955515150b5348565653e4953a52dcb4956c5349b53Zopengl_u378(r);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___stdZassertions_u36)(NimStringV2* dest_p0, NimStringV2 src_p1) {
	if ((*dest_p0).p && !((*dest_p0).p->cap & NIM_STRLIT_FLAG)) {
 deallocShared((*dest_p0).p);
}
	(*dest_p0) = src_p1;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space_p0) {
	NimStringV2 result;
	{
		if (!(space_p0 <= ((NI)0))) goto LA3_;
		result.len = ((NI)0);
		result.p = ((NimStrPayload*) NIM_NIL);
	}
	goto LA1_;
LA3_: ;
	{
		NimStrPayload* p;
		void* T6_;
		T6_ = (void*)0;
		T6_ = allocSharedImpl(((NI) ((NI)((NI)(space_p0 + ((NI)1)) + ((NI)8)))));
		p = ((NimStrPayload*) (T6_));
		(*p).cap = space_p0;
		(*p).data[((NI)0)] = 0;
		result.len = ((NI)0);
		result.p = p;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, add__system_u4393)(tySequence__LaG9a3ln9cHpAtM2PoiEBtMA* x_p0, tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw y_p1) {
	NI oldLen;
	NI T1_;
	tyObject_NimSeqV2__I1ONZKfBfLzjdJeNgozYCA* xu;
	T1_ = (*x_p0).len;
	oldLen = T1_;
	xu = ((tyObject_NimSeqV2__I1ONZKfBfLzjdJeNgozYCA*) (x_p0));
	{
		NIM_BOOL T4_;
		void* T8_;
		T4_ = (NIM_BOOL)0;
		T4_ = ((*xu).p == ((tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw*) NIM_NIL));
		if (T4_) goto LA5_;
		T4_ = ((NI)((*(*xu).p).cap & ((NI)IL64(-4611686018427387905))) < (NI)(oldLen + ((NI)1)));
LA5_: ;
		if (!T4_) goto LA6_;
		T8_ = (void*)0;
		T8_ = prepareSeqAddUninit(oldLen, ((void*) ((*xu).p)), ((NI)1), ((NI)24), ((NI)8));
		(*xu).p = ((tyObject_NimSeqPayload__jGzDDMpKBVVFaYGdNEx7uw*) (T8_));
	}
LA6_: ;
	(*xu).len = (NI)(oldLen + ((NI)1));
	(*(*xu).p).data[oldLen] = y_p1;
}
static N_INLINE(void, nimIncRefCyclic)(void* p_p0, NIM_BOOL cyclic_p1) {
	tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA* h;
	NI T1_;
	T1_ = (NI)0;
	T1_ = minuspercent___system_u810(((NI) (ptrdiff_t) (p_p0)), ((NI)16));
	h = ((tyObject_RefHeader__m5DjWPRDLSOOpTFPKmlVBA*) (T1_));
	(*h).rc += ((NI)16);
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___stdZtypedthreads_u205)(Exception** dest_p0, Exception* src_p1, NIM_BOOL cyclic_p2) {
	Exception* colontmp_;
	colontmp_ = (*dest_p0);
	{
		if (!src_p1) goto LA3_;
		nimIncRefCyclic(src_p1, cyclic_p2);
	}
LA3_: ;
	(*dest_p0) = src_p1;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = nimDecRefIsLastCyclicDyn(colontmp_);
		if (!T7_) goto LA8_;
		nimDestroyAndDispose(colontmp_);
	}
LA8_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___stdZtypedthreads_u213)(Exception** dest_p0, Exception* src_p1) {
	Exception* colontmp_;
	colontmp_ = (*dest_p0);
	(*dest_p0) = src_p1;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn(colontmp_);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose(colontmp_);
	}
LA4_: ;
}
static N_INLINE(void, pushCurrentException)(Exception* e_p0) {
	eqcopy___stdZtypedthreads_u205(&(*e_p0).up, currException__system_u4065, NIM_TRUE);
	eqsink___stdZtypedthreads_u213(&currException__system_u4065, e_p0);
}
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionAux__system_u4372)(Exception* e_p0) {
{	{
		if (!!((localRaiseHook__system_u3621 == NIM_NIL))) goto LA3_;
		{
			NIM_BOOL T7_;
			T7_ = (NIM_BOOL)0;
			T7_ = localRaiseHook__system_u3621(e_p0);
			if (!!(T7_)) goto LA8_;
			goto BeforeRet_;
		}
LA8_: ;
	}
LA3_: ;
	{
		if (!!((globalRaiseHook__system_u3618 == NIM_NIL))) goto LA12_;
		{
			NIM_BOOL T16_;
			T16_ = (NIM_BOOL)0;
			T16_ = globalRaiseHook__system_u3618(e_p0);
			if (!!(T16_)) goto LA17_;
			goto BeforeRet_;
		}
LA17_: ;
	}
LA12_: ;
	pushCurrentException(e_p0);
	nimInErrorMode__system_u4345 += ((NI)1);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e_p0, NCSTRING ename_p1, NCSTRING procname_p2, NCSTRING filename_p3, NI line_p4) {
	{
		if (!((*e_p0).name == 0)) goto LA3_;
		(*e_p0).name = ename_p1;
	}
LA3_: ;
	{
		NIM_BOOL T7_;
		tyObject_StackTraceEntry__AolQsxmhMZzaZBPezNXohw T11_;
		T7_ = (NIM_BOOL)0;
		T7_ = !((((void*) (procname_p2)) == NIM_NIL));
		if (!(T7_)) goto LA8_;
		T7_ = !((((void*) (filename_p3)) == NIM_NIL));
LA8_: ;
		if (!T7_) goto LA9_;
		T11_.procname = procname_p2;
		T11_.filename = filename_p3;
		T11_.line = line_p4;
		add__system_u4393((&(*e_p0).trace), T11_);
	}
LA9_: ;
	raiseExceptionAux__system_u4372(e_p0);
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___main_u738)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ dest_p0) {
	if (dest_p0.p && !(dest_p0.p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc(dest_p0.p, NIM_ALIGNOF(NF32));
}
}
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap_p0, NI elemSize_p1, NI elemAlign_p2) {
	void* result;
	{
		tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA* p;
		NI T5_;
		void* T6_;
		if (!(((NI)0) < cap_p0)) goto LA3_;
		T5_ = (NI)0;
		T5_ = align__system_u1641(((NI)8), elemAlign_p2);
		T6_ = (void*)0;
		T6_ = alignedAlloc0__system_u1952(((NI) ((NI)(T5_ + (NI)(cap_p0 * elemSize_p1)))), ((NI) (elemAlign_p2)));
		p = ((tyObject_NimSeqPayloadBase__YzHI9aqwYKR62QuKBKVCqvA*) (T6_));
		(*p).cap = cap_p0;
		result = ((void*) (p));
	}
	goto LA1_;
LA3_: ;
	{
		result = NIM_NIL;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___main_u141)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ dest_p0) {
	if (dest_p0.p && !(dest_p0.p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc(dest_p0.p, NIM_ALIGNOF(NU8));
}
}
static N_INLINE(void, nimAddCharV1)(NimStringV2* s_p0, NIM_CHAR c_p1) {
	prepareAdd(s_p0, ((NI)1));
	(*(*s_p0).p).data[(*s_p0).len] = c_p1;
	(*s_p0).len += ((NI)1);
	(*(*s_p0).p).data[(*s_p0).len] = 0;
}
N_LIB_PRIVATE N_NIMCALL(void, add__system_u3635)(NimStringV2* x_p0, NCSTRING y_p1) {
	NI i;
	i = ((NI)0);
	{
		if (!!((((void*) (y_p1)) == NIM_NIL))) goto LA3_;
		{
			while (1) {
				if (!!(((NU8)(y_p1[i]) == (NU8)(0)))) goto LA6;
				nimAddCharV1((&(*x_p0)), y_p1[i]);
				i += ((NI)1);
			} LA6: ;
		}
	}
LA3_: ;
}
static N_INLINE(void, addInt__stdZprivateZdigitsutils_u204)(NimStringV2* result_p0, NI x_p1) {
	addInt__stdZprivateZdigitsutils_u187(result_p0, ((NI64) (x_p1)));
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___system_u4216)(tySequence__LaG9a3ln9cHpAtM2PoiEBtMA stackTraceEntries_p0) {
	NimStringV2 result;
	tySequence__LaG9a3ln9cHpAtM2PoiEBtMA s;
	s.len = 0; s.p = NIM_NIL;
	s = stackTraceEntries_p0;
	result = rawNewString(((NI)2000));
	{
		NI i;
		NI colontmp_;
		NI T2_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		T2_ = s.len;
		colontmp_ = (NI)(T2_ - ((NI)1));
		res = ((NI)0);
		{
			while (1) {
				if (!(res <= colontmp_)) goto LA4;
				i = ((NI) (res));
				{
					if (!(s.p->data[i].line == ((NI)-10))) goto LA7_;
					prepareAdd((&result), 17);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_5);
				}
				goto LA5_;
LA7_: ;
				{
					if (!(s.p->data[i].line == ((NI)-100))) goto LA10_;
					prepareAdd((&result), 3);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_7);
				}
				goto LA5_;
LA10_: ;
				{
					NI oldLenX60gensym208_;
					oldLenX60gensym208_ = result.len;
					add__system_u3635((&result), s.p->data[i].filename);
					{
						if (!(((NI)0) < s.p->data[i].line)) goto LA15_;
						prepareAdd((&result), 1);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_9);
						addInt__stdZprivateZdigitsutils_u204((&result), s.p->data[i].line);
						{
							if (!NIM_FALSE) goto LA19_;
							prepareAdd((&result), 2);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_11);
							addInt__stdZprivateZdigitsutils_u204((&result), ((NI)0));
						}
LA19_: ;
						prepareAdd((&result), 1);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_13);
					}
LA15_: ;
					{
						NI kX60gensym208_;
						NI colontmp__2;
						NI res_2;
						kX60gensym208_ = (NI)0;
						colontmp__2 = (NI)0;
						colontmp__2 = ((((NI)1) >= (NI)(((NI)25) - (NI)(result.len - oldLenX60gensym208_))) ? ((NI)1) : (NI)(((NI)25) - (NI)(result.len - oldLenX60gensym208_)));
						res_2 = ((NI)1);
						{
							while (1) {
								if (!(res_2 <= colontmp__2)) goto LA23;
								kX60gensym208_ = ((NI) (res_2));
								nimAddCharV1((&result), 32);
								res_2 += ((NI)1);
							} LA23: ;
						}
					}
					add__system_u3635((&result), s.p->data[i].procname);
					prepareAdd((&result), 1);
appendString((&result), TM__Q5wkpxktOdTGvlSRo9bzt9aw_15);
				}
LA5_: ;
				res += ((NI)1);
			} LA4: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toNimStr)(NCSTRING str_p0, NI len_p1) {
	NimStringV2 result;
	{
		if (!(len_p1 <= ((NI)0))) goto LA3_;
		result.len = ((NI)0);
		result.p = ((NimStrPayload*) NIM_NIL);
	}
	goto LA1_;
LA3_: ;
	{
		NI colontmpD_;
		NimStrPayload* p;
		void* T6_;
		colontmpD_ = (NI)0;
		T6_ = (void*)0;
		T6_ = allocSharedImpl(((NI) ((NI)((NI)(len_p1 + ((NI)1)) + ((NI)8)))));
		p = ((NimStrPayload*) (T6_));
		(*p).cap = len_p1;
		copyMem__system_u1750(((void*) ((&(*p).data[((NI)0)]))), ((void*) (str_p0)), ((NI) ((NI)(len_p1 + ((NI)1)))));
		colontmpD_ = len_p1;
		result.len = colontmpD_;
		result.p = p;
	}
LA1_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str_p0) {
	NimStringV2 result;
	NimStringV2 colontmpD_;
	NimStringV2 colontmpD__2;
	nimZeroMem((void*)(&colontmpD_), sizeof(NimStringV2));
	nimZeroMem((void*)(&colontmpD__2), sizeof(NimStringV2));
	{
		if (!(((void*) (str_p0)) == NIM_NIL)) goto LA3_;
		colontmpD_ = toNimStr(str_p0, ((NI)0));
		result = colontmpD_;
	}
	goto LA1_;
LA3_: ;
	{
		colontmpD__2 = toNimStr(str_p0, (str_p0 ? nimCStrLen(str_p0) : 0));
		result = colontmpD__2;
	}
LA1_: ;
	return result;
}
static N_INLINE(void, popCurrentException)(void) {
	eqcopy___stdZtypedthreads_u205(&currException__system_u4065, (*currException__system_u4065).up, NIM_FALSE);
}
static N_INLINE(void, rawWriteString)(FILE* f_p0, NCSTRING s_p1, NI length_p2) {
	size_t T1_;
	int T2_;
	T1_ = (size_t)0;
	T1_ = fwrite(((void*) (s_p1)), ((size_t)1), ((size_t) (length_p2)), ((FILE*) (f_p0)));
	(void)(T1_);
	T2_ = (int)0;
	T2_ = fflush(((FILE*) (f_p0)));
	(void)(T2_);
}
N_LIB_PRIVATE N_NIMCALL(void, writeToStdErr__system_u4031)(NCSTRING msg_p0, NI length_p1) {
	rawWriteString(((FILE*) (stderr)), msg_p0, length_p1);
}
N_LIB_PRIVATE N_NIMCALL(void, showErrorMessage__system_u4036)(NCSTRING data_p0, NI length_p1) {
	NIM_BOOL toWrite;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	toWrite = NIM_TRUE;
	{
		NimStringV2 colontmpD_;
		if (!!((errorMessageWriter__system_u4028 == NIM_NIL))) goto LA3_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		colontmpD_ = cstrToNimstr(data_p0);
		errorMessageWriter__system_u4028(colontmpD_);
		toWrite = NIM_FALSE;
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		if (NIM_UNLIKELY(*nimErr_)) {
			LA5_:;
			{
				*nimErr_ = NIM_FALSE;
				popCurrentException();
				LA7_:;
			}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	{
		if (!toWrite) goto LA11_;
		writeToStdErr__system_u4031(data_p0, length_p1);
	}
LA11_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, reportUnhandledErrorAux__system_u4245)(Exception* e_p0) {
	tyArray__gpc2RrLEcWgv7ONpLYNHOw buf;
	NI L;
	nimZeroMem((void*)buf, sizeof(tyArray__gpc2RrLEcWgv7ONpLYNHOw));
	L = ((NI)0);
	{
		NI T3_;
		NimStringV2 trace;
		T3_ = (*e_p0).trace.len;
		if (!!((T3_ == ((NI)0)))) goto LA4_;
		trace = dollar___system_u4216((*e_p0).trace);
		{
			if (!((NI)(L + trace.len) < ((NI)2000))) goto LA8_;
			copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) (nimToCStringConv(trace))), ((NI) (trace.len)));
			L += trace.len;
		}
LA8_: ;
		if (trace.p && !(trace.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(trace.p);
}
	}
LA4_: ;
	{
		if (!((NI)(L + ((NI)28)) < ((NI)2000))) goto LA12_;
		copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) ("Error: unhandled exception: ")), ((NI)28));
		L += ((NI)28);
	}
LA12_: ;
	{
		if (!((NI)(L + (*e_p0).message.len) < ((NI)2000))) goto LA16_;
		copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) (nimToCStringConv((*e_p0).message))), ((NI) ((*e_p0).message.len)));
		L += (*e_p0).message.len;
	}
LA16_: ;
	{
		if (!((NI)(L + ((NI)2)) < ((NI)2000))) goto LA20_;
		copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) (" [")), ((NI)2));
		L += ((NI)2);
	}
LA20_: ;
	{
		if (!((NI)(L + ((*e_p0).name ? nimCStrLen((*e_p0).name) : 0)) < ((NI)2000))) goto LA24_;
		copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) ((*e_p0).name)), ((NI) (((*e_p0).name ? nimCStrLen((*e_p0).name) : 0))));
		L += ((*e_p0).name ? nimCStrLen((*e_p0).name) : 0);
	}
LA24_: ;
	{
		if (!((NI)(L + ((NI)2)) < ((NI)2000))) goto LA28_;
		copyMem__system_u1750(((void*) ((&buf[(L)- 0]))), ((void*) ("]\012")), ((NI)2));
		L += ((NI)2);
	}
LA28_: ;
	{
		NimStringV2 T34_;
		if (!!((onUnhandledException__system_u4244 == NIM_NIL))) goto LA32_;
		T34_.len = 0; T34_.p = NIM_NIL;
		T34_ = cstrToNimstr(((NCSTRING) (buf)));
		onUnhandledException__system_u4244(T34_);
	}
	goto LA30_;
LA32_: ;
	{
		showErrorMessage__system_u4036(((NCSTRING) (buf)), L);
	}
LA30_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, reportUnhandledError__system_u4339)(Exception* e_p0) {
	{
		if (!!((unhandledExceptionHook__system_u3626 == NIM_NIL))) goto LA3_;
		unhandledExceptionHook__system_u3626(e_p0);
	}
LA3_: ;
	reportUnhandledErrorAux__system_u4245(e_p0);
}
N_LIB_PRIVATE N_NIMCALL(void, nimTestErrorFlag)(void) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimInErrorMode__system_u4345;
		if (!(T3_)) goto LA4_;
		T3_ = !((currException__system_u4065 == ((Exception*) NIM_NIL)));
LA4_: ;
		if (!T3_) goto LA5_;
		reportUnhandledError__system_u4339(currException__system_u4065);
		eqsink___stdZtypedthreads_u213(&currException__system_u4065, ((Exception*) NIM_NIL));
		exit(((int)1));
	}
LA5_: ;
}
